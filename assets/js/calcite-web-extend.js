/*! ArcGIS API for JavaScript 4.4 | Copyright (c) 2017 Esri. All rights reserved. | http://www.esri.com/legal/privacy | https://developers.arcgis.com/terms/faq */
function triggerEvent(e,t){if("createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent(t,!1,!0),e.dispatchEvent(a)}else{var a=document.createEventObject();a.eventType=t,e.fireEvent("on"+a.eventType,a)}}function expander(){var e=calcite.findElements(".js-expand-toggle"),t=document.querySelectorAll(".js-expand");e.forEach(function(e){calcite.addEvent(e,calcite.click(),function(a){calcite.preventDefault(a);var n=e.getAttribute("data-expand"),s=document.querySelector('.js-expand[data-expand="'+n+'"]'),c=calcite.hasClass(s,"is-active"),l=calcite.hasClass(s,"is-active");calcite.toggleActive(t,s),c&&l?calcite.removeClass(s,"is-active"):calcite.addClass(s,"is-active")})})}function apiReferenceIndexPage(){function e(e){var t=e.parent,a=calcite.nodeListToArray(t.querySelectorAll(".js-tab")),n=e.active,s=calcite.nodeListToArray(t.querySelectorAll(".js-tab-section")),c=a.indexOf(n),l=s[c];a.forEach(function(e){e.setAttribute("aria-expanded",!1)}),n.setAttribute("aria-expanded",!0),calcite.toggleActive(a,n),s.forEach(function(e){e.setAttribute("aria-expanded",!1)}),l.setAttribute("aria-expanded",!0),calcite.toggleActive(s,l)}function t(){var t=/#modules(-in)?/im,a=/#index(-[a-z])?/im,n=document.location.hash,s="";if(t.test(n)?s="all-modules":a.test(n)&&(s="all-index"),""!==s){var c=document.querySelector(".js-tab-"+s);e({parent:calcite.closest("js-tab-group",c),active:c})}}calcite.bus.on("urlhash-change",function(e){t()}),calcite.bus.on("tabs:active",function(e){/api-reference(?=\/[-\w]*\.html)/i.test(document.location.href)&&(window.location.hash=e.active.hash)}),t()}function apiReferenceSearch(){function e(e){var t=e.target.value.toLowerCase();if(t)if(a.style.display="none",n.style.display="block","object"==typeof apiRefSearchIndex&&"object"==typeof apiRefSearchData){var i;if(/(\s|\*$)/.test(t))i=apiRefSearchIndex.search(t);else try{i=apiRefSearchIndex.query(function(e){e.term(t,{usePipeline:!0,boost:50}),e.term(t+"*",{usePipeline:!1,boost:10}),e.term(t,{usePipeline:!1,editDistance:2,boost:1})})}catch(e){console.log("Error: %s",e)}if(i.length>0){var d=i.map(function(e){var t=apiRefSearchData[e.ref];if(/\.html#/.test(t.page_url)){var a=/[-\w]*(?=$)/im,n=a.test(t.page_url)?t.page_url.match(a)[0]:t.class;t.secondary_search_term=n}else t.secondary_search_term=t.class;return t.tertiary_search_term=t.package+"/"+t.class,t}),u=d.sort(function(e,t){return t.rank-e.rank||e.secondary_search_term.localeCompare(t.secondary_search_term)||e.tertiary_search_term.localeCompare(t.tertiary_search_term)}),p="",m="";u.forEach(function(e){p+="<tr><td>"+e.html+"</td><td>"+e.type+"</td><td>"+e.package+"/<a href='"+e.page_url+"'>"+e.class+"</a></td></tr>",m+="<tr><td>",m+="<table><thead><tr><td>Name, Type, Module</td></tr></thead><tbody>",m+="<tr><td>"+e.html+"</td></tr><tr><td>"+e.type+"</td></tr><tr><td>"+e.package+"/<a href='"+e.page_url+"'>"+e.class+"</a></td></tr>",m+="</tbody></table></td></tr>"});var h=i.length>1?" results":" result";s.innerHTML=i.length+h+' for API Reference:"'+t+'"',c.innerHTML=p,l.innerHTML=m,r.style.display="none",o.style.display="table";var f=document.querySelectorAll(".js-search-results-api-reference table a"),b=calcite.nodeListToArray(f);b.forEach(function(e){calcite.addEvent(e,calcite.click(),function(){a.style.display="block",n.style.display="none",b.forEach(function(e){"use strict";calcite.removeEvent(e,calcite.click())})})})}else s.innerHTML='No results for API Reference:"'+t+'"',o.style.display="none",r.style.display="block"}else console.warn("api-reference search index and data is not loaded!");else a.style.display="block",n.style.display="none",r.style.display="none",document.querySelector(".side-nav.api-reference").style.display="block"}var t=calcite.findElements(".js-search-api-reference");if(t){var a=document.querySelector(".js-container-api-reference"),n=document.querySelector(".js-search-results-api-reference"),s=document.querySelector(".js-search-results-api-reference-header"),c=document.querySelector(".js-search-results-api-reference tbody.phone-hide"),l=document.querySelector(".js-search-results-api-reference tbody.phone-show"),o=document.querySelector(".js-search-results-api-reference table"),r=document.querySelector(".js-search-no-results-api-reference");t.forEach(function(t){"use strict";calcite.addEvent(t,"keyup",e)})}}function apiReferenceURLSearch(){var e=/api-reference(?=((\/[-_\w]*){1,})?\/[-_\w]*\.html)/im,t=document.location.href,a=document.location.search;calcite.bus.on("api-reference-lunr-index-loaded",function(n){if("function"==typeof URLSearchParams){var s=new URLSearchParams(a);if(s.has("search")){var c=s.get("search");if(e.test(t)){var l=document.querySelector(".js-search-api-reference");l.value=c,triggerEvent(l,"keyup")}}}})}function downloadSampleCode(e){"use strict";var t=e.currentTarget.getAttribute("data-save-file"),a=e.currentTarget.getAttribute("data-save-file-name"),n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(e){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)try{if(!!new Blob&&""!==n.responseText){var s=new Blob([n.responseText],{type:"text/plain;charset='"+document.characterSet+"'"});saveAs(s,a+".html")}}catch(e){console.log("Download is not supported for %s",navigator.userAgent)}else 404===n.status&&console.log("Unable to download: %s",t)},n.onerror=function(e){console.log("An error occurred while downloading: %s",t)},n.send()}function sampleCodeOverviewDescription(){if(document.querySelector(".js-feedback")){var e=document.querySelector(".js-feedback"),t=e.href.replace("%7BREPLACE_TITLE%7D",encodeURIComponent(document.title));e.href=t.replace("%7BREPLACE_URL%7D",encodeURIComponent(document.location.href))}if(document.querySelector(".js-container-sample-code-3d")){var a=document.querySelector(".js-container-sample-code-3d"),n=document.querySelector(".js-container-sample-code-warning");if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)&&(calcite.addClass(a,"hide"),calcite.toggleClass(n,"hide"),document.querySelector(".js-btn-group-sample-code"))){var s=document.querySelector(".js-btn-group-sample-code");calcite.addClass(s,"hide")}}document.querySelector(".js-btn-save-file")&&calcite.addEvent(document.querySelector(".js-btn-save-file"),"click",downloadSampleCode)}function sampleCodeSearch(){function e(e){var t=e.target.value.toLowerCase();if(t)if(n.style.display="none",o.style.display="none",s.style.display="block","object"==typeof sampleCodeSearchIndex&&"object"==typeof sampleCodeSearchData){var a;if(/(\s|\*$)/.test(t))a=sampleCodeSearchIndex.search(t);else if(/\d\.\d/.test(t))a=sampleCodeSearchIndex.search(t);else try{a=sampleCodeSearchIndex.query(function(e){e.term(t,{usePipeline:!0,boost:50}),e.term(t+"*",{usePipeline:!1,boost:10}),e.term(t,{usePipeline:!1,editDistance:2,boost:1})})}catch(e){console.log("Error: %s",e)}if(a.length>0){var i="",p="",m={title:[],tags:[]},y=[];Object.keys(a).forEach(function(e){var t=a[e].matchData.metadata,n=sampleCodeSearchData[a[e].ref],s=h.test(n.live_link)?n.live_link:f+n.live_link,c="<a href='"+f+n.page_url+"'>"+n.title+"</a>",l="",o="<span class='btn-sandbox-label-full'>Explore in the sandbox</span><span class='btn-sandbox-label-short'>Sandbox</span>";n.download||n.sandbox||n.is_external_sample?n.sandbox||n.is_external_sample?n.sandbox?l+='<a class="btn btn-small btn-sandbox btn-sample-code js-btn-sandbox" href=\''+b+n.sample_name+"'>"+o+"</a>":l+='<a class="btn btn-disabled btn-small btn-sample-code js-btn-sandbox">'+o+"</a>":l+='<button class="btn btn-small btn-sample-code icon-ui-download js-btn-save-file" data-save-file="'+s+'" data-save-file-name="'+n.sample_name+'">Download</button>':l+='<button class="btn btn-disabled btn-small btn-sample-code icon-ui-download js-btn-save-file" data-save-file="'+s+'" data-save-file-name="'+n.sample_name+'">Download</button>',n.jsbin?l+='<a class="btn btn-clear btn-small icon-ui-link-external btn-sample-code js-btn-jsbin" data-jsbin-url=\''+s+"'>JS Bin</a>":l+='<a class="btn btn-disabled btn-small icon-ui-link-external btn-sample-code js-btn-jsbin" data-jsbin-url=\''+s+"'>JS Bin</a>",l+='<a class="btn btn-clear btn-small btn-sample-code" href=\''+s+"'>View live</a>",i+="<tr><td>"+c+"</td><td>"+l+"</td></tr>",Object.keys(t).forEach(function(e){Object.keys(t[e]).forEach(function(a){var s=t[e][a].position;m[a].push(n[a].substr(s[0][0],s[0][1]))})});var r='<div class="card animate-fade-in block trailer-1">';r+='     <figure class="card-image-wrap">',r+='       <a href="'+f+"sample-code/"+n.sample_name+'/index.html">',r+='         <img class="card-image" src="'+f+"sample-code/../assets/img/sample-code/thumbnails/"+n.sample_name+'.png" alt="'+n.sample_name+'">',r+="       </a>",r+="     </figure>",r+='     <div class="card-content">',r+='       <p class="font-size--1 card-last trailer-1"><a href="'+f+"sample-code/"+n.sample_name+'/index.html">'+n.title+"</a></p>",r+='       <div class="open-out-container">',n.download||n.sandbox||n.is_external_sample?n.sandbox||n.is_external_sample?n.sandbox?r+='         <a class="open-out-icon icon-ui-experimental" title="Explore in the sandbox" href="'+b+n.sample_name+'"></a>':r+='         <a class="open-out-icon open-out-icon-disabled icon-ui-experimental" title="Explore in the sandbox" href="'+b+n.sample_name+'"></a>':r+='         <a class="open-out-icon icon-ui-download" title="Download" href="'+b+n.sample_name+'"></a>':r+='         <a class="open-out-icon open-out-icon-disabled icon-ui-download" title="Explore in the sandbox" href="'+b+n.sample_name+'"></a>',n.jsbin?r+='         <a class="open-out-icon icon-ui-link-external js-btn-jsbin" title="JS Bin" data-jsbin-url="'+s+'"></a>':r+='         <a class="open-out-icon open-out-icon-disabled icon-ui-link-external js-btn-jsbin" title="JS Bin" data-jsbin-url="'+s+'"></a>',r+='         <a class="open-out-icon icon-ui-browser" title="View live" href="'+s+'"></a>',r+="       </div>",r+="     </div>",r+="   </div>",y.push(r)});var v=function(e,t){return e.indexOf(t)<0&&e.push(t),e},g=m.title,x=m.tags;m.tags=x.reduce(v,[]),m.title=g.reduce(v,[]);var S=m.tags.map(function(e){return"<a href='"+document.location.pathname+"?search="+e+"'>"+e+"</a>"});p+=m.tags.length>0?"<span class='sample-code-tag-match-label'><mark class=\"label label-blue\">Tags</mark>"+S.join(", ")+"</span>":"",""!==p&&(u.style.display="block");var j=a.length>1?" results":" result";c.innerHTML=a.length+j+' for Sample Code:"'+t+'"',l.innerHTML=i,u.innerHTML=p,d.style.display="none",r.innerHTML=y.join("\n"),r.style.display="flex";var w=calcite.findElements(".js-btn-save-file");w.forEach(function(e){calcite.addEvent(e,"click",downloadSampleCode)}),enableJSBinEventHandler()}else c.innerHTML='No results for Sample Code:"'+t+'"',o.style.display="none",u.style.display="none",r.style.display="none",d.style.display="block"}else console.warn("sample-code search index and data is not loaded!");else n.style.display="block",s.style.display="none",r.style.display="none",u.style.display="none",d.style.display="none",document.querySelector(".side-nav.sample-code").style.display="block"}function t(){console.log("f"),i.forEach(function(e){calcite.removeClass(e,"is-active")}),calcite.addClass(event.currentTarget,"is-active"),"none"===o.style.display?(o.style.display="table",r.style.display="none"):(r.style.display="flex",o.style.display="none")}var a=calcite.findElements(".js-search-sample-code");if(a){var n=document.querySelector(".js-container-sample-code"),s=document.querySelector(".js-search-results-sample-code"),c=document.querySelector(".js-search-results-sample-code-header"),l=document.querySelector(".js-search-results-sample-code tbody"),o=document.querySelector(".js-search-results-sample-code table"),r=document.querySelector(".js-search-results-sample-code div.block-group"),i=calcite.findElements(".js-toggle-view-btn",document.querySelector(".js-toggle-view")),d=document.querySelector(".js-search-no-results-sample-code"),u=document.querySelector(".js-search-results-sample-code-tags"),p=document.location.href,m=/https?:\/\/([\da-zA-Z\.-]+\.([a-z\.]){2,6}|localhost|\d*\.\d*\.\d*\.\d*):?[\/\w\.-]*(?=sample-code)/gm,h=/https?/,f=p.match(m)?p.match(m)[0]:"",b=f+"sample-code/sandbox/index.html?sample=";a.forEach(function(t){"use strict";calcite.addEvent(t,"keyup",e)}),i.forEach(function(e){calcite.addEvent(e,"click",t)})}enableJSBinEventHandler()}function sampleCodeURLSearch(){var e=/sample-code(?=((\/[-_\w]*){1,})?\/[-_\w]*\.html)/im,t=document.location.href,a=document.location.search;calcite.bus.on("sample-code-lunr-index-loaded",function(n){if("function"==typeof URLSearchParams){var s=new URLSearchParams(a);if(s.has("search")){var c=s.get("search");if(e.test(t)){var l=document.querySelector(".js-search-sample-code");l.value=c,triggerEvent(l,"keyup")}}}})}function jsBinEventHandler(e){function t(e,t){var a=e,s=/<title>[^<]*<\/title>/im,c=e.match(s),l=c?c[0]:"",o=l.replace(/<\/?title>/gim,"");if(l&&""!==l){var r=t.match(n),i=r?r[0]:"sample",d="https://developers.arcgis.com/javascript/latest/"+i+"/index.html",u="";u+='<meta name="description" content="['+o+']">\n  ',u+="\x3c!--\n  ArcGIS API for JavaScript, https://js.arcgis.com\n  For more information about the {{ sample_name }} sample, read the original sample description at developers.arcgis.com.\n  {{ sample_url }}\n  --\x3e\n".replace(/{{\ssample_name\s}}/,i).replace(/{{\ssample_url\s}}/,d)+l,a=e.replace(s,u)}return a}function a(e,t){var a,n=["html","css","js"],s=e.document.createElement("form");s.setAttribute("target","_self"),s.setAttribute("method","post"),s.setAttribute("action","https://jsbin.com?html,output"),s.style.display="none";for(var c=0;c<n.length;c++)a=e.document.createElement("input"),s.appendChild(a),a.type="hidden",a.name=n[c],a.value="html"===n[c]?encodeURIComponent(t):"";e.document.body.appendChild(s),s.submit()}var n=/[-\w]*(?=\/live\/index\.html)/im,s=e.target.getAttribute("data-jsbin-url")||"";s&&""!==s?function(e,a){var s=e.match(n),c=s?s[0]:(65536*(1+Math.random())|0).toString(16).substring(1),l=window.open("about:blank",c),o=new XMLHttpRequest;o.open("GET",e,!0),o.onreadystatechange=function(n){if(o.readyState===XMLHttpRequest.DONE&&200===o.status){var s=t(o.responseText,e);a(l,s)}else 404===o.status&&console.log("Unable to locate url %s",n.currentTarget.responseURL)},o.onerror=function(e){console.log("An error occurred while fetching url %s",e.currentTarget.responseURL)},o.send()}(s,a):console.log("Unable to retrieve sample code source for %s",s)}function enableJSBinEventHandler(){var e=calcite.nodeListToArray(document.querySelectorAll(".js-btn-jsbin"));e&&e.length&&e.forEach(function(e){calcite.addEvent(e,calcite.click(),jsBinEventHandler)})}function urlHashWatcher(){if("onhashchange"in window)window.onhashchange=function(e){calcite.bus.emit("urlhash-change",e)};else{var e=window.location,t=e.href,a=e.hash;setInterval(function(){var n=e.href,s=e.hash;s!==a&&"function"==typeof window.onhashchange&&(window.onhashchange({type:"hashchange",oldURL:t,newURL:n}),t=n,a=s,calcite.bus.emit("urlhash-change",{type:"hashchange",oldURL:t,newURL:n}))},100)}}"object"==typeof calcite?(calcite.init(),window.calcite=calcite,"function"!=typeof calcite.expander&&calcite.extend(expander()),calcite.extend(urlHashWatcher()),calcite.extend(apiReferenceIndexPage()),calcite.extend(apiReferenceSearch()),calcite.extend(apiReferenceURLSearch()),calcite.extend(sampleCodeOverviewDescription()),calcite.extend(sampleCodeSearch()),calcite.extend(sampleCodeURLSearch()),document.documentElement.setAttribute("data-browser",navigator.userAgent)):console.warn("calcite-web not available!");