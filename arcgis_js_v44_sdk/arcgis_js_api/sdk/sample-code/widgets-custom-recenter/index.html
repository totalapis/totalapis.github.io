<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="content-language" content="en"><meta name="last-modified" content="Fri Jun 23 2017 15:05:58 GMT-0700 (Pacific Daylight Time)"><meta name="tags" content="custom, widget, accessor, decorator, recenter, typescript, interface"><meta name="product" content="js-api-arcgis"><meta name="version" content="4.x"><meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="subject_label" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE"><meta name="sub_category" content="JavaScript API"><meta name="sub_category_label" content="ArcGIS API for JavaScript"><meta name="content_type" content="Sample Code"><meta name="content_type_label" content="Sample Code"><meta name="search-collection" content="help"><meta name="search-category" content="help-api,help-api-sample"><title>Custom Recenter Widget | ArcGIS API for JavaScript 4.4</title><link rel="shortcut icon" href="../../assets/img/favicon.ico"><link rel="stylesheet" href="../../assets/css/default.css"><script src="https://assets.adobedtm.com/2e9cd01e19dc5ac4867e752f17a2f1ea1923e5af/satelliteLib-0ed1001fd441a838aefe8e755be42aaafddcc46b.js"></script></head><body><developers-account-notifications></developers-account-notifications><div class="wrapper"><header class="top-nav top-nav-hover-top"><div class="grid-container"><div class="column-24 tablet-show"><div class="dropdown js-dropdown left"><a href="#" class="icon-ui-menu top-nav-title js-drawer-toggle top-nav-title-tablet" data-drawer="top-nav">ArcGIS API for JavaScript</a></div></div><div class="column-24 leader-1 trailer-1 tablet-leader-0">Go to <a href="https://developers.arcgis.com/javascript/">Latest version (official documentation)</a></div></div></header><header class="sub-nav sub-nav-purple"><div class="grid-container"><nav class="breadcrumbs breadcrumbs-white clearfix padding-leader-1"><a href="/web-api/" class="crumb">ArcGIS Web API</a> <a href="../.." class="crumb">JavaScript API</a> <a href="../.." class="crumb">4.4</a> <a href="../../sample-code/index.html" class="crumb">Sample Code</a></nav><h1 class="sub-nav-title text-white leader-1">ArcGIS API for JavaScript</h1><nav class="sub-nav-list leader-0 tablet-hide"><a class="sub-nav-link" href="../../index.html">Home</a> <a class="sub-nav-link" href="../../guide/index.html">Guide</a> <a class="sub-nav-link" href="../../api-reference/index.html">API Reference</a> <a class="sub-nav-link is-active" href="../../sample-code/index.html">Sample Code</a> <a class="sub-nav-link sub-nav-link-external icon-ui-link-external" href="https://geonet.esri.com/community/developers/web-developers/arcgis-api-for-javascript">Forum</a></nav><select class="select-full trailer-half tablet-show js-select-nav"><option value="../../index.html">Home</option><option value="../../guide/index.html">Guide</option><option value="../../api-reference/index.html">API Reference</option><option selected="selected" value="../../sample-code/index.html">Sample Code</option><option value="https://geonet.esri.com/community/developers/web-developers/arcgis-api-for-javascript">Forum</option></select></div></header><div id="skip-to-content"><div class="grid-container leader-1"><div class="column-6 trailer-2 tablet-hide"><div class="search"><div class="search-section"><input type="text" class="input-search js-search-sample-code" placeholder="Search for samples"></div></div><aside class="accordion side-nav js-accordion sample-code"><div class="accordion-section"><h4 class="accordion-title">Get Started</h4><nav class="accordion-content"><a href="../../sample-code/index.html" class="side-nav-link">Overview</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Latest Samples</h4><nav class="accordion-content"><a href="../../sample-code/layers-wmts/index.html" class="side-nav-link">WMTSLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-wmts-sublayers/index.html" class="side-nav-link">Select WMTS sublayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-wms/index.html" class="side-nav-link">WMSLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-types/index.html" class="side-nav-link">Generate data-driven visualization of unique values</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-color-mesh/index.html" class="side-nav-link">Generate continuous color visualization for 3D buildings</a></nav><nav class="accordion-content"><a href="../../sample-code/popuptemplate-arcade/index.html" class="side-nav-link">Reference Arcade expressions in PopupTemplate</a></nav><nav class="accordion-content"><a href="../../sample-code/popuptemplate-promise/index.html" class="side-nav-link">PopupTemplate with promise</a></nav><nav class="accordion-content"><a href="../../sample-code/highlight-point-features/index.html" class="side-nav-link">Highlight point features</a></nav><nav class="accordion-content"><a href="../../sample-code/highlight-scenelayer/index.html" class="side-nav-link">Highlight SceneLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-point-styles/index.html" class="side-nav-link">Point styles for cities</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-label-callout/index.html" class="side-nav-link">Using callout lines with labels</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-color-mix-mode/index.html" class="side-nav-link">Coloring options for textured buildings</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud-color-modulation/index.html" class="side-nav-link">Intensity color modulation</a></nav><nav class="accordion-content"><a href="../../sample-code/featurelayer-queryextent/index.html" class="side-nav-link">Zoom to extent of features</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-panning/index.html" class="side-nav-link">Disable panning on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-rotation/index.html" class="side-nav-link">Disable rotation on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-scroll-zoom/index.html" class="side-nav-link">Disable scroll-zooming on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-zoom/index.html" class="side-nav-link">Disable all zooming on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-tilelayer/index.html" class="side-nav-link">Custom Tile Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-dynamiclayer/index.html" class="side-nav-link">Custom Dynamic Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-lerc-2d/index.html" class="side-nav-link">Custom Lerc Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-blendlayer/index.html" class="side-nav-link">Custom Blend Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-elevation-exaggerated/index.html" class="side-nav-link">Custom ElevationLayer - Exaggerating elevation</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-elevation-thematic/index.html" class="side-nav-link">Custom ElevationLayer - Thematic data as elevation</a></nav><nav class="accordion-content"><a href="../../sample-code/views-swap-2d-3d/index.html" class="side-nav-link">Swap view from 2D to 3D</a></nav><nav class="accordion-content"><a href="../../sample-code/draw-spatial-query/index.html" class="side-nav-link">Draw polygon for spatial query</a></nav><nav class="accordion-content"><a href="../../sample-code/draw-measure/index.html" class="side-nav-link">Measure while drawing</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-print-vectortiles/index.html" class="side-nav-link">Print widget vector tiles</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Mapping and Views</h4><nav class="accordion-content"><a href="../../sample-code/get-started-mapview/index.html" class="side-nav-link">Get started with MapView (2D)</a></nav><nav class="accordion-content"><a href="../../sample-code/get-started-sceneview/index.html" class="side-nav-link">Get started with SceneView (3D)</a></nav><nav class="accordion-content"><a href="../../sample-code/webmap-basic/index.html" class="side-nav-link">Load a basic web map</a></nav><nav class="accordion-content"><a href="../../sample-code/webscene-basic/index.html" class="side-nav-link">Load a basic web scene</a></nav><nav class="accordion-content"><a href="../../sample-code/webscene-save/index.html" class="side-nav-link">Save a web scene</a></nav><nav class="accordion-content"><a href="../../sample-code/webscene-slides/index.html" class="side-nav-link">Web scene - slides</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-local/index.html" class="side-nav-link">Create a local scene</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-goto/index.html" class="side-nav-link">SceneView - goTo()</a></nav><nav class="accordion-content"><a href="../../sample-code/view-padding/index.html" class="side-nav-link">View padding</a></nav><nav class="accordion-content"><a href="../../sample-code/basemap-custom/index.html" class="side-nav-link">Create a custom basemap</a></nav><nav class="accordion-content"><a href="../../sample-code/webmap-switch/index.html" class="side-nav-link">Swap web maps in the same view</a></nav><nav class="accordion-content"><a href="../../sample-code/views-swap-2d-3d/index.html" class="side-nav-link">Swap view from 2D to 3D</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Layers</h4><nav class="accordion-content"><a href="../../sample-code/get-started-layers/index.html" class="side-nav-link">Get started with layers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-portal/index.html" class="side-nav-link">Create layer from portal item</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-vectortilelayer/index.html" class="side-nav-link">VectorTileLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-integratedmeshlayer/index.html" class="side-nav-link">IntegratedMeshLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-streamlayer/index.html" class="side-nav-link">StreamLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-csv/index.html" class="side-nav-link">CSVLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-osm-3d/index.html" class="side-nav-link">OpenStreetMapLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-webtile-3d/index.html" class="side-nav-link">WebTileLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-wms/index.html" class="side-nav-link">WMSLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-wmts/index.html" class="side-nav-link">WMTSLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-wmts-sublayers/index.html" class="side-nav-link">Select WMTS sublayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-georss/index.html" class="side-nav-link">GeoRSSLayer</a></nav></div><div class="accordion-section"><h4 class="accordion-title">FeatureLayer</h4><nav class="accordion-content"><a href="../../sample-code/layers-featurelayer/index.html" class="side-nav-link">Get started with FeatureLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-featurelayer-improvements/index.html" class="side-nav-link">Drawing improvements</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-featurelayer-collection/index.html" class="side-nav-link">Created from array of graphics</a></nav><nav class="accordion-content"><a href="../../sample-code/featurelayerview-query/index.html" class="side-nav-link">FeatureLayerView - query</a></nav><nav class="accordion-content"><a href="../../sample-code/highlight-point-features/index.html" class="side-nav-link">Highlight point features</a></nav></div><div class="accordion-section"><h4 class="accordion-title">SceneLayer</h4><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer/index.html" class="side-nav-link">Get started with SceneLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-texture/index.html" class="side-nav-link">Realistic buildings</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-color-mix-mode/index.html" class="side-nav-link">Coloring options for textured buildings</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-points/index.html" class="side-nav-link">Point geometries</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-filter-query/index.html" class="side-nav-link">Filter and query</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayerview-query/index.html" class="side-nav-link">SceneLayerView - query</a></nav><nav class="accordion-content"><a href="../../sample-code/highlight-scenelayer/index.html" class="side-nav-link">Highlight SceneLayer</a></nav></div><div class="accordion-section"><h4 class="accordion-title">MapImageLayer</h4><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer/index.html" class="side-nav-link">Get started with MapImageLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-sublayers/index.html" class="side-nav-link">Toggle sublayer visibility</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-definitionexpression/index.html" class="side-nav-link">Set definition expressions on sublayers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-renderers/index.html" class="side-nav-link">Set renderers on sublayers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-mapimagelayer-dynamic-labels/index.html" class="side-nav-link">Label sublayer features</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicmaplayer/index.html" class="side-nav-link">Create dynamic map layers</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicdatalayer-table-join/index.html" class="side-nav-link">Dynamic data layer with table join</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicdatalayer-query-table/index.html" class="side-nav-link">Dynamic data layer with query table</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-dynamicdatalayer-raster/index.html" class="side-nav-link">Dynamic data layer with raster data</a></nav></div><div class="accordion-section"><h4 class="accordion-title">ImageryLayer</h4><nav class="accordion-content"><a href="../../sample-code/layers-imagerylayer/index.html" class="side-nav-link">Get started with ImageryLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-pixelvalues/index.html" class="side-nav-link">Client side pixel filter</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-popup/index.html" class="side-nav-link">Server side raster function</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-renderingrule/index.html" class="side-nav-link">Client side rendering rules</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-imagery-attribute-table/index.html" class="side-nav-link">Raster attribute table</a></nav></div><div class="accordion-section"><h4 class="accordion-title">PointCloudLayer</h4><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud-portal/index.html" class="side-nav-link">Get started with PointCloudLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud/index.html" class="side-nav-link">Toggle visualizations</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud-size-density/index.html" class="side-nav-link">Change point size and density</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-pointcloud-color-modulation/index.html" class="side-nav-link">Intensity color modulation</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Custom Layers</h4><nav class="accordion-content"><a href="../../sample-code/layers-custom-tilelayer/index.html" class="side-nav-link">Custom Tile Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-dynamiclayer/index.html" class="side-nav-link">Custom Dynamic Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-lerc-2d/index.html" class="side-nav-link">Custom Lerc Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-blendlayer/index.html" class="side-nav-link">Custom Blend Layer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-elevation-exaggerated/index.html" class="side-nav-link">Custom ElevationLayer - Exaggerating elevation</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-custom-elevation-thematic/index.html" class="side-nav-link">Custom ElevationLayer - Thematic data as elevation</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Visualization</h4><nav class="accordion-content"><a href="../../sample-code/playground/index.html" class="side-nav-link">Symbol Playground</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-location-types/index.html" class="side-nav-link">Visualize features by unique types</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-classbreaks/index.html" class="side-nav-link">Visualize data with class breaks</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-color/index.html" class="side-nav-link">Generate data-driven continuous color visualization</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-types/index.html" class="side-nav-link">Generate data-driven visualization of unique values</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-sm-color-mesh/index.html" class="side-nav-link">Generate continuous color visualization for 3D buildings</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-color/index.html" class="side-nav-link">Data-driven continuous color</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-size/index.html" class="side-nav-link">Data-driven continuous size</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-vv-extrusion/index.html" class="side-nav-link">Data-driven extrusion</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-multivariate-3d/index.html" class="side-nav-link">Multivariate visualizations (3D)</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-arcade/index.html" class="side-nav-link">Create a custom visualization using Arcade</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-webstylesymbol/index.html" class="side-nav-link">Visualize features with realistic WebStyleSymbols</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-point-styles/index.html" class="side-nav-link">Point styles for cities</a></nav><nav class="accordion-content"><a href="../../sample-code/visualization-label-callout/index.html" class="side-nav-link">Using callout lines with labels</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Popups</h4><nav class="accordion-content"><a href="../../sample-code/get-started-popup/index.html" class="side-nav-link">Get started with popups</a></nav><nav class="accordion-content"><a href="../../sample-code/get-started-popuptemplate/index.html" class="side-nav-link">Get started with PopupTemplate</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-docking-position/index.html" class="side-nav-link">Dock popup positions</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-multipleelements/index.html" class="side-nav-link">Multiple popup elements</a></nav><nav class="accordion-content"><a href="../../sample-code/popuptemplate-arcade/index.html" class="side-nav-link">Reference Arcade expressions in PopupTemplate</a></nav><nav class="accordion-content"><a href="../../sample-code/popuptemplate-function/index.html" class="side-nav-link">PopupTemplate with functions</a></nav><nav class="accordion-content"><a href="../../sample-code/popuptemplate-promise/index.html" class="side-nav-link">PopupTemplate with promise</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-actions/index.html" class="side-nav-link">Popup actions</a></nav><nav class="accordion-content"><a href="../../sample-code/popup-custom-action/index.html" class="side-nav-link">Custom popup actions per feature</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Editing</h4><nav class="accordion-content"><a href="../../sample-code/editing-applyedits/index.html" class="side-nav-link">FeatureLayer applyEdits</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Graphics</h4><nav class="accordion-content"><a href="../../sample-code/get-started-graphics/index.html" class="side-nav-link">Get started with graphics</a></nav><nav class="accordion-content"><a href="../../sample-code/graphics-basic-3d/index.html" class="side-nav-link">Add graphics to a SceneView</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Searching</h4><nav class="accordion-content"><a href="../../sample-code/widgets-search-3d/index.html" class="side-nav-link">Search widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-search-multiplesource/index.html" class="side-nav-link">Search widget with multiple sources</a></nav><nav class="accordion-content"><a href="../../sample-code/featurelayer-query/index.html" class="side-nav-link">Query features from a FeatureLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/layers-scenelayer-query-popup/index.html" class="side-nav-link">SceneLayer - query a linked FeatureLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-query/index.html" class="side-nav-link">QueryTask</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-find/index.html" class="side-nav-link">FindTask</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-identify/index.html" class="side-nav-link">IdentifyTask</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Analysis</h4><nav class="accordion-content"><a href="../../sample-code/ge-geodesicbuffer/index.html" class="side-nav-link">GeometryEngine - geodesic buffers</a></nav><nav class="accordion-content"><a href="../../sample-code/geoprocessing-viewshed/index.html" class="side-nav-link">Geoprocessing - viewshed analysis</a></nav><nav class="accordion-content"><a href="../../sample-code/geoprocessing-hotspot/index.html" class="side-nav-link">Geoprocessing - hotspot analysis</a></nav><nav class="accordion-content"><a href="../../sample-code/tasks-route/index.html" class="side-nav-link">RouteTask</a></nav><nav class="accordion-content"><a href="../../sample-code/elevation-query-points/index.html" class="side-nav-link">Query Elevation (points)</a></nav><nav class="accordion-content"><a href="../../sample-code/elevation-query/index.html" class="side-nav-link">Query Elevation (lines)</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Widgets</h4><nav class="accordion-content"><a href="../../sample-code/get-started-widgets/index.html" class="side-nav-link">Get started with widgets</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-basemapgallery/index.html" class="side-nav-link">BasemapGallery widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-layerlist/index.html" class="side-nav-link">LayerList widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-layerlist-actions/index.html" class="side-nav-link">LayerList widget with actions</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-legend/index.html" class="side-nav-link">Legend widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-locate/index.html" class="side-nav-link">Locate button</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-print/index.html" class="side-nav-link">Print widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-print-vectortiles/index.html" class="side-nav-link">Print widget vector tiles</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-track-basic/index.html" class="side-nav-link">Track current location</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-track/index.html" class="side-nav-link">Track widget simulation</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-expand/index.html" class="side-nav-link">Expand widget</a></nav><nav class="accordion-content"><a href="../../sample-code/simple-ui/index.html" class="side-nav-link">Using the view&#39;s UI</a></nav><nav class="accordion-content"><a href="../../sample-code/view-breakpoints/index.html" class="side-nav-link">Responsive widgets</a></nav></div><div class="accordion-section is-active"><h4 class="accordion-title">Widgets (Advanced)</h4><nav class="accordion-content"><a href="../../sample-code/widgets-custom-widget/index.html" class="side-nav-link">Create a custom widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-custom-recenter/index.html" class="side-nav-link is-active">Custom Recenter widget</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-frameworks-angular/index.html" class="side-nav-link">Using widgets with Angular</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-frameworks-react/index.html" class="side-nav-link">Using widgets with React</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-frameworks-riot/index.html" class="side-nav-link">Using widgets with Riot</a></nav><nav class="accordion-content"><a href="../../sample-code/widgets-frameworks-vue/index.html" class="side-nav-link">Custom widgets with Vue</a></nav></div><div class="accordion-section"><h4 class="accordion-title">More 3D</h4><nav class="accordion-content"><a href="../../sample-code/scene-toggle-elevation/index.html" class="side-nav-link">Toggle ground elevation</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-look-around-camera/index.html" class="side-nav-link">Look around camera position</a></nav><nav class="accordion-content"><a href="../../sample-code/sceneview-stars/index.html" class="side-nav-link">Realistic environment settings</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-environment/index.html" class="side-nav-link">SceneView - environment settings</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-elevationinfo/index.html" class="side-nav-link">Elevation offset</a></nav><nav class="accordion-content"><a href="../../sample-code/scene-elevationlayer/index.html" class="side-nav-link">ElevationLayer</a></nav><nav class="accordion-content"><a href="../../sample-code/satellites-3d/index.html" class="side-nav-link">Satellites in 3D view</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Workflows</h4><nav class="accordion-content"><a href="../../sample-code/get-started-workflows/index.html" class="side-nav-link">Get started with Workflow Manager</a></nav></div><div class="accordion-section"><h4 class="accordion-title">Other</h4><nav class="accordion-content"><a href="../../sample-code/draw-spatial-query/index.html" class="side-nav-link">Draw polygon for spatial query</a></nav><nav class="accordion-content"><a href="../../sample-code/draw-measure/index.html" class="side-nav-link">Measure while drawing</a></nav><nav class="accordion-content"><a href="../../sample-code/request/index.html" class="side-nav-link">Request data from a remote server</a></nav><nav class="accordion-content"><a href="../../sample-code/identity-oauth-basic/index.html" class="side-nav-link">Access ArcGIS Online items via OAuth</a></nav><nav class="accordion-content"><a href="../../sample-code/chaining-promises/index.html" class="side-nav-link">Chaining promises</a></nav><nav class="accordion-content"><a href="../../sample-code/view-hittest/index.html" class="side-nav-link">Access features with click events</a></nav><nav class="accordion-content"><a href="../../sample-code/views-synchronize/index.html" class="side-nav-link">Synchronize MapView and SceneView</a></nav><nav class="accordion-content"><a href="../../sample-code/frameworks-bootstrap/index.html" class="side-nav-link">Calcite Maps and Bootstrap</a></nav><nav class="accordion-content"><a href="../../sample-code/styling-icon-fonts/index.html" class="side-nav-link">Using Esri Icon Fonts</a></nav><nav class="accordion-content"><a href="../../sample-code/watch-for-changes/index.html" class="side-nav-link">Watch for changes</a></nav><nav class="accordion-content"><a href="../../sample-code/featurelayer-queryextent/index.html" class="side-nav-link">Zoom to extent of features</a></nav><nav class="accordion-content"><a href="../../sample-code/portalitem-dragndrop/index.html" class="side-nav-link">Drag and drop portal items</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-panning/index.html" class="side-nav-link">Disable panning on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-rotation/index.html" class="side-nav-link">Disable rotation on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-scroll-zoom/index.html" class="side-nav-link">Disable scroll-zooming on the view</a></nav><nav class="accordion-content"><a href="../../sample-code/view-disable-zoom/index.html" class="side-nav-link">Disable all zooming on the view</a></nav></div></aside><div class="column-6 scroll-show tablet-hide js-sticky" data-top="46"><a href="#" class="btn btn-fill btn-clear">Back to Top</a></div></div><div class="column-24 trailer-1 tablet-show"><div class="search"><div class="search-section"><input type="text" class="input-search js-search-sample-code" placeholder="Search for samples"></div></div><select class="select-full leader-half trailer-half js-select-nav"><optgroup label="Get Started"><option value="../../sample-code/index.html">Overview</option></optgroup><optgroup label="Latest Samples"><option value="../../sample-code/layers-wmts/index.html">WMTSLayer</option><option value="../../sample-code/layers-wmts-sublayers/index.html">Select WMTS sublayer</option><option value="../../sample-code/layers-wms/index.html">WMSLayer</option><option value="../../sample-code/visualization-sm-types/index.html">Generate data-driven visualization of unique values</option><option value="../../sample-code/visualization-sm-color-mesh/index.html">Generate continuous color visualization for 3D buildings</option><option value="../../sample-code/popuptemplate-arcade/index.html">Reference Arcade expressions in PopupTemplate</option><option value="../../sample-code/popuptemplate-promise/index.html">PopupTemplate with promise</option><option value="../../sample-code/highlight-point-features/index.html">Highlight point features</option><option value="../../sample-code/highlight-scenelayer/index.html">Highlight SceneLayer</option><option value="../../sample-code/visualization-point-styles/index.html">Point styles for cities</option><option value="../../sample-code/visualization-label-callout/index.html">Using callout lines with labels</option><option value="../../sample-code/layers-scenelayer-color-mix-mode/index.html">Coloring options for textured buildings</option><option value="../../sample-code/layers-pointcloud-color-modulation/index.html">Intensity color modulation</option><option value="../../sample-code/featurelayer-queryextent/index.html">Zoom to extent of features</option><option value="../../sample-code/view-disable-panning/index.html">Disable panning on the view</option><option value="../../sample-code/view-disable-rotation/index.html">Disable rotation on the view</option><option value="../../sample-code/view-disable-scroll-zoom/index.html">Disable scroll-zooming on the view</option><option value="../../sample-code/view-disable-zoom/index.html">Disable all zooming on the view</option><option value="../../sample-code/layers-custom-tilelayer/index.html">Custom Tile Layer</option><option value="../../sample-code/layers-custom-dynamiclayer/index.html">Custom Dynamic Layer</option><option value="../../sample-code/layers-custom-lerc-2d/index.html">Custom Lerc Layer</option><option value="../../sample-code/layers-custom-blendlayer/index.html">Custom Blend Layer</option><option value="../../sample-code/layers-custom-elevation-exaggerated/index.html">Custom ElevationLayer - Exaggerating elevation</option><option value="../../sample-code/layers-custom-elevation-thematic/index.html">Custom ElevationLayer - Thematic data as elevation</option><option value="../../sample-code/views-swap-2d-3d/index.html">Swap view from 2D to 3D</option><option value="../../sample-code/draw-spatial-query/index.html">Draw polygon for spatial query</option><option value="../../sample-code/draw-measure/index.html">Measure while drawing</option><option value="../../sample-code/widgets-print-vectortiles/index.html">Print widget vector tiles</option></optgroup><optgroup label="Mapping and Views"><option value="../../sample-code/get-started-mapview/index.html">Get started with MapView (2D)</option><option value="../../sample-code/get-started-sceneview/index.html">Get started with SceneView (3D)</option><option value="../../sample-code/webmap-basic/index.html">Load a basic web map</option><option value="../../sample-code/webscene-basic/index.html">Load a basic web scene</option><option value="../../sample-code/webscene-save/index.html">Save a web scene</option><option value="../../sample-code/webscene-slides/index.html">Web scene - slides</option><option value="../../sample-code/scene-local/index.html">Create a local scene</option><option value="../../sample-code/scene-goto/index.html">SceneView - goTo()</option><option value="../../sample-code/view-padding/index.html">View padding</option><option value="../../sample-code/basemap-custom/index.html">Create a custom basemap</option><option value="../../sample-code/webmap-switch/index.html">Swap web maps in the same view</option><option value="../../sample-code/views-swap-2d-3d/index.html">Swap view from 2D to 3D</option></optgroup><optgroup label="Layers"><option value="../../sample-code/get-started-layers/index.html">Get started with layers</option><option value="../../sample-code/layers-portal/index.html">Create layer from portal item</option><option value="../../sample-code/layers-vectortilelayer/index.html">VectorTileLayer</option><option value="../../sample-code/layers-integratedmeshlayer/index.html">IntegratedMeshLayer</option><option value="../../sample-code/layers-streamlayer/index.html">StreamLayer</option><option value="../../sample-code/layers-csv/index.html">CSVLayer</option><option value="../../sample-code/layers-osm-3d/index.html">OpenStreetMapLayer</option><option value="../../sample-code/layers-webtile-3d/index.html">WebTileLayer</option><option value="../../sample-code/layers-wms/index.html">WMSLayer</option><option value="../../sample-code/layers-wmts/index.html">WMTSLayer</option><option value="../../sample-code/layers-wmts-sublayers/index.html">Select WMTS sublayer</option><option value="../../sample-code/layers-georss/index.html">GeoRSSLayer</option></optgroup><optgroup label="FeatureLayer"><option value="../../sample-code/layers-featurelayer/index.html">Get started with FeatureLayer</option><option value="../../sample-code/layers-featurelayer-improvements/index.html">Drawing improvements</option><option value="../../sample-code/layers-featurelayer-collection/index.html">Created from array of graphics</option><option value="../../sample-code/featurelayerview-query/index.html">FeatureLayerView - query</option><option value="../../sample-code/highlight-point-features/index.html">Highlight point features</option></optgroup><optgroup label="SceneLayer"><option value="../../sample-code/layers-scenelayer/index.html">Get started with SceneLayer</option><option value="../../sample-code/layers-scenelayer-texture/index.html">Realistic buildings</option><option value="../../sample-code/layers-scenelayer-color-mix-mode/index.html">Coloring options for textured buildings</option><option value="../../sample-code/layers-scenelayer-points/index.html">Point geometries</option><option value="../../sample-code/layers-scenelayer-filter-query/index.html">Filter and query</option><option value="../../sample-code/layers-scenelayerview-query/index.html">SceneLayerView - query</option><option value="../../sample-code/highlight-scenelayer/index.html">Highlight SceneLayer</option></optgroup><optgroup label="MapImageLayer"><option value="../../sample-code/layers-mapimagelayer/index.html">Get started with MapImageLayer</option><option value="../../sample-code/layers-mapimagelayer-sublayers/index.html">Toggle sublayer visibility</option><option value="../../sample-code/layers-mapimagelayer-definitionexpression/index.html">Set definition expressions on sublayers</option><option value="../../sample-code/layers-mapimagelayer-renderers/index.html">Set renderers on sublayers</option><option value="../../sample-code/layers-mapimagelayer-dynamic-labels/index.html">Label sublayer features</option><option value="../../sample-code/layers-dynamicmaplayer/index.html">Create dynamic map layers</option><option value="../../sample-code/layers-dynamicdatalayer-table-join/index.html">Dynamic data layer with table join</option><option value="../../sample-code/layers-dynamicdatalayer-query-table/index.html">Dynamic data layer with query table</option><option value="../../sample-code/layers-dynamicdatalayer-raster/index.html">Dynamic data layer with raster data</option></optgroup><optgroup label="ImageryLayer"><option value="../../sample-code/layers-imagerylayer/index.html">Get started with ImageryLayer</option><option value="../../sample-code/layers-imagery-pixelvalues/index.html">Client side pixel filter</option><option value="../../sample-code/layers-imagery-popup/index.html">Server side raster function</option><option value="../../sample-code/layers-imagery-renderingrule/index.html">Client side rendering rules</option><option value="../../sample-code/layers-imagery-attribute-table/index.html">Raster attribute table</option></optgroup><optgroup label="PointCloudLayer"><option value="../../sample-code/layers-pointcloud-portal/index.html">Get started with PointCloudLayer</option><option value="../../sample-code/layers-pointcloud/index.html">Toggle visualizations</option><option value="../../sample-code/layers-pointcloud-size-density/index.html">Change point size and density</option><option value="../../sample-code/layers-pointcloud-color-modulation/index.html">Intensity color modulation</option></optgroup><optgroup label="Custom Layers"><option value="../../sample-code/layers-custom-tilelayer/index.html">Custom Tile Layer</option><option value="../../sample-code/layers-custom-dynamiclayer/index.html">Custom Dynamic Layer</option><option value="../../sample-code/layers-custom-lerc-2d/index.html">Custom Lerc Layer</option><option value="../../sample-code/layers-custom-blendlayer/index.html">Custom Blend Layer</option><option value="../../sample-code/layers-custom-elevation-exaggerated/index.html">Custom ElevationLayer - Exaggerating elevation</option><option value="../../sample-code/layers-custom-elevation-thematic/index.html">Custom ElevationLayer - Thematic data as elevation</option></optgroup><optgroup label="Visualization"><option value="../../sample-code/playground/index.html">Symbol Playground</option><option value="../../sample-code/visualization-location-types/index.html">Visualize features by unique types</option><option value="../../sample-code/visualization-classbreaks/index.html">Visualize data with class breaks</option><option value="../../sample-code/visualization-sm-color/index.html">Generate data-driven continuous color visualization</option><option value="../../sample-code/visualization-sm-types/index.html">Generate data-driven visualization of unique values</option><option value="../../sample-code/visualization-sm-color-mesh/index.html">Generate continuous color visualization for 3D buildings</option><option value="../../sample-code/visualization-vv-color/index.html">Data-driven continuous color</option><option value="../../sample-code/visualization-vv-size/index.html">Data-driven continuous size</option><option value="../../sample-code/visualization-vv-extrusion/index.html">Data-driven extrusion</option><option value="../../sample-code/visualization-multivariate-3d/index.html">Multivariate visualizations (3D)</option><option value="../../sample-code/visualization-arcade/index.html">Create a custom visualization using Arcade</option><option value="../../sample-code/visualization-webstylesymbol/index.html">Visualize features with realistic WebStyleSymbols</option><option value="../../sample-code/visualization-point-styles/index.html">Point styles for cities</option><option value="../../sample-code/visualization-label-callout/index.html">Using callout lines with labels</option></optgroup><optgroup label="Popups"><option value="../../sample-code/get-started-popup/index.html">Get started with popups</option><option value="../../sample-code/get-started-popuptemplate/index.html">Get started with PopupTemplate</option><option value="../../sample-code/popup-docking-position/index.html">Dock popup positions</option><option value="../../sample-code/popup-multipleelements/index.html">Multiple popup elements</option><option value="../../sample-code/popuptemplate-arcade/index.html">Reference Arcade expressions in PopupTemplate</option><option value="../../sample-code/popuptemplate-function/index.html">PopupTemplate with functions</option><option value="../../sample-code/popuptemplate-promise/index.html">PopupTemplate with promise</option><option value="../../sample-code/popup-actions/index.html">Popup actions</option><option value="../../sample-code/popup-custom-action/index.html">Custom popup actions per feature</option></optgroup><optgroup label="Editing"><option value="../../sample-code/editing-applyedits/index.html">FeatureLayer applyEdits</option></optgroup><optgroup label="Graphics"><option value="../../sample-code/get-started-graphics/index.html">Get started with graphics</option><option value="../../sample-code/graphics-basic-3d/index.html">Add graphics to a SceneView</option></optgroup><optgroup label="Searching"><option value="../../sample-code/widgets-search-3d/index.html">Search widget</option><option value="../../sample-code/widgets-search-multiplesource/index.html">Search widget with multiple sources</option><option value="../../sample-code/featurelayer-query/index.html">Query features from a FeatureLayer</option><option value="../../sample-code/layers-scenelayer-query-popup/index.html">SceneLayer - query a linked FeatureLayer</option><option value="../../sample-code/tasks-query/index.html">QueryTask</option><option value="../../sample-code/tasks-find/index.html">FindTask</option><option value="../../sample-code/tasks-identify/index.html">IdentifyTask</option></optgroup><optgroup label="Analysis"><option value="../../sample-code/ge-geodesicbuffer/index.html">GeometryEngine - geodesic buffers</option><option value="../../sample-code/geoprocessing-viewshed/index.html">Geoprocessing - viewshed analysis</option><option value="../../sample-code/geoprocessing-hotspot/index.html">Geoprocessing - hotspot analysis</option><option value="../../sample-code/tasks-route/index.html">RouteTask</option><option value="../../sample-code/elevation-query-points/index.html">Query Elevation (points)</option><option value="../../sample-code/elevation-query/index.html">Query Elevation (lines)</option></optgroup><optgroup label="Widgets"><option value="../../sample-code/get-started-widgets/index.html">Get started with widgets</option><option value="../../sample-code/widgets-basemapgallery/index.html">BasemapGallery widget</option><option value="../../sample-code/widgets-layerlist/index.html">LayerList widget</option><option value="../../sample-code/widgets-layerlist-actions/index.html">LayerList widget with actions</option><option value="../../sample-code/widgets-legend/index.html">Legend widget</option><option value="../../sample-code/widgets-locate/index.html">Locate button</option><option value="../../sample-code/widgets-print/index.html">Print widget</option><option value="../../sample-code/widgets-print-vectortiles/index.html">Print widget vector tiles</option><option value="../../sample-code/widgets-track-basic/index.html">Track current location</option><option value="../../sample-code/widgets-track/index.html">Track widget simulation</option><option value="../../sample-code/widgets-expand/index.html">Expand widget</option><option value="../../sample-code/simple-ui/index.html">Using the view&#39;s UI</option><option value="../../sample-code/view-breakpoints/index.html">Responsive widgets</option></optgroup><optgroup label="Widgets (Advanced)"><option value="../../sample-code/widgets-custom-widget/index.html">Create a custom widget</option><option value="../../sample-code/widgets-custom-recenter/index.html" selected="selected">Custom Recenter widget</option><option value="../../sample-code/widgets-frameworks-angular/index.html">Using widgets with Angular</option><option value="../../sample-code/widgets-frameworks-react/index.html">Using widgets with React</option><option value="../../sample-code/widgets-frameworks-riot/index.html">Using widgets with Riot</option><option value="../../sample-code/widgets-frameworks-vue/index.html">Custom widgets with Vue</option></optgroup><optgroup label="More 3D"><option value="../../sample-code/scene-toggle-elevation/index.html">Toggle ground elevation</option><option value="../../sample-code/scene-look-around-camera/index.html">Look around camera position</option><option value="../../sample-code/sceneview-stars/index.html">Realistic environment settings</option><option value="../../sample-code/scene-environment/index.html">SceneView - environment settings</option><option value="../../sample-code/scene-elevationinfo/index.html">Elevation offset</option><option value="../../sample-code/scene-elevationlayer/index.html">ElevationLayer</option><option value="../../sample-code/satellites-3d/index.html">Satellites in 3D view</option></optgroup><optgroup label="Workflows"><option value="../../sample-code/get-started-workflows/index.html">Get started with Workflow Manager</option></optgroup><optgroup label="Other"><option value="../../sample-code/draw-spatial-query/index.html">Draw polygon for spatial query</option><option value="../../sample-code/draw-measure/index.html">Measure while drawing</option><option value="../../sample-code/request/index.html">Request data from a remote server</option><option value="../../sample-code/identity-oauth-basic/index.html">Access ArcGIS Online items via OAuth</option><option value="../../sample-code/chaining-promises/index.html">Chaining promises</option><option value="../../sample-code/view-hittest/index.html">Access features with click events</option><option value="../../sample-code/views-synchronize/index.html">Synchronize MapView and SceneView</option><option value="../../sample-code/frameworks-bootstrap/index.html">Calcite Maps and Bootstrap</option><option value="../../sample-code/styling-icon-fonts/index.html">Using Esri Icon Fonts</option><option value="../../sample-code/watch-for-changes/index.html">Watch for changes</option><option value="../../sample-code/featurelayer-queryextent/index.html">Zoom to extent of features</option><option value="../../sample-code/portalitem-dragndrop/index.html">Drag and drop portal items</option><option value="../../sample-code/view-disable-panning/index.html">Disable panning on the view</option><option value="../../sample-code/view-disable-rotation/index.html">Disable rotation on the view</option><option value="../../sample-code/view-disable-scroll-zoom/index.html">Disable scroll-zooming on the view</option><option value="../../sample-code/view-disable-zoom/index.html">Disable all zooming on the view</option></optgroup></select></div><main class="column-17 tablet-column-12 pre-1 content-face"><div class="js-container-sample-code"><p></p><div class="clearfix"><div class="trailer-1 btn-group-sample-code js-btn-group-sample-code"><button class="btn btn-disabled btn-sample-code icon-ui-download js-btn-save-file" data-save-file-name="widgets-custom-recenter" data-save-file="../../sample-code/widgets-custom-recenter/live/index.html">Download</button><a class="btn btn-disabled btn-clear btn-sample-code icon-ui-link-external js-btn-jsbin" data-jsbin-url="../../sample-code/widgets-custom-recenter/live/index.html">JS Bin</a><a class="btn btn-clear btn-sample-code" href="../../sample-code/widgets-custom-recenter/live/index.html">View live</a></div></div><p></p><h1 id="custom-recenter-widget">Custom Recenter Widget</h1><p>This tutorial goes over creating a custom widget that displays the <a href="../../api-reference/esri-views-MapView.html#center">MapView.center</a>'s X/Y coordinates in addition to its <a href="../../api-reference/esri-views-MapView.html#scale">MapView.scale</a>. In addition to displaying coordinates and scale, the view can also be recentered by clicking on the widget.</p><p>Before beginning this tutorial, make certain you have already completed <a href="../widgets-custom-widget/index.html">Create custom widget</a> where we go over the basics of creating a <code>HelloWorld</code> widget. This tutorial will assume that all the necessary <a href="../../guide/custom-widget/index.html#development-requirements">requirements</a> are installed.</p><div class="esri-md panel trailer-1"><p><strong><em>For a detailed discussion on setting up TypeScript within your environment, please refer to the <a href="../../guide/typescript-setup/index.html">TypeScript Setup</a> guide topic.</em></strong></p><p>The proceeding steps will begin with implementing the widget in the <em>.tsx</em> file.</p></div><h2 id="tutorial-steps">Tutorial steps</h2><ol><li><a href="#1">Implement Recenter widget</a><ul><li><a href="#1a">Add dependency paths and import statements</a></li><li><a href="#1b">Create a type alias and interfacecs</a></li><li><a href="#1c">Add a CSS variable</a></li><li><a href="#1d">Extend Widget base class with constructor logic</a></li><li><a href="#1e">Add postInitialize logic</a></li><li><a href="#1f">Add widget properties</a></li><li><a href="#1g">Add widget methods</a></li><li><a href="#1h">Export widget</a></li></ul></li><li><a href="#2">Compiling the TSX file</a></li><li><a href="#3">Add the widget to the application</a><ul><li><a href="#3a">Add CSS</a></li><li><a href="#3b">Add the custom widget reference</a></li><li><a href="#3c">Reference and use the custom widget</a></li></ul></li><li><a href="#4">Source code</a></li><li><a href="#5">Additional information</a></li></ol><h3 id="1-implement-recenter-tsx-file"><a id="1"></a>1. Implement Recenter TSX file</h3><h4 id="add-dependency-paths-and-import-statements"><a id="1a"></a>Add dependency paths and import statements</h4><p>Create a <em>.tsx</em> file and name it <code>Recenter</code>. Add the following lines of code.</p><pre><code class="ts"><span class="hljs-comment">/// &lt;amd-dependency path="esri/core/tsSupport/declareExtendsHelper" name="__extends" /&gt;</span>
<span class="hljs-comment">/// &lt;amd-dependency path="esri/core/tsSupport/decorateHelper" name="__decorate" /&gt;</span>

<span class="hljs-keyword">import</span> {subclass, declared, property} <span class="hljs-keyword">from</span> <span class="hljs-string">"esri/core/accessorSupport/decorators"</span>;

<span class="hljs-keyword">import</span> Widget = <span class="hljs-built_in">require</span>(<span class="hljs-string">"esri/widgets/Widget"</span>);
<span class="hljs-keyword">import</span> watchUtils = <span class="hljs-built_in">require</span>(<span class="hljs-string">"esri/core/watchUtils"</span>);

<span class="hljs-keyword">import</span> { renderable, tsx } <span class="hljs-keyword">from</span> <span class="hljs-string">"esri/widgets/support/widget"</span>;

<span class="hljs-keyword">import</span> Point = <span class="hljs-built_in">require</span>(<span class="hljs-string">"esri/geometry/Point"</span>);
<span class="hljs-keyword">import</span> MapView = <span class="hljs-built_in">require</span>(<span class="hljs-string">"esri/views/MapView"</span>);

</code></pre><h4 id="create-a-type-alias-and-interfaces"><a id="1b"></a>Create a type alias and interfaces</h4><p>First we're going to create a <code>Coordinates</code> type alias. <code>Coordinates</code> is an <a href="../../api-reference/esri-geometry-Point.html">esri/geometry/Point</a> type that takes an array of numbers or <code>any</code>. The latter is specified because the <a href="../../api-reference/esri-geometry-Point.html">Point</a> constructor also takes in other types besides just numbers.</p><pre><code class="ts"><span class="hljs-keyword">type</span> Coordinates = Point | <span class="hljs-built_in">number</span>[] | <span class="hljs-built_in">any</span>;
</code></pre><p>Next, we will create a few <a href="https://www.typescriptlang.org/docs/handbook/interfaces.html">Typescript interfaces</a> to aid in reusing object types.</p><pre><code class="ts"><span class="hljs-keyword">interface</span> Center {
  x: <span class="hljs-built_in">number</span>;
  y: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> State <span class="hljs-keyword">extends</span> Center {
  interacting: <span class="hljs-built_in">boolean</span>;
  scale: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> Style {
  textShadow: <span class="hljs-built_in">string</span>;
}
</code></pre><ol><li>The first interface, <code>Center</code>, takes two number properties, <code>x</code> and <code>y</code>.</li><li>Next, <code>State</code> extends off of <code>Center</code>. This means that it will have the same <code>x</code> and <code>y</code> properties that <code>Center</code> has, in addition to a boolean property called <code>interacting</code> and a number property called <code>scale</code>.</li><li>Last, an interface called <code>Style</code> takes one string property called <code>textShadow</code>.</li></ol><h4 id="add-css-variable"><a id="1c"></a>Add CSS variable</h4><p>After adding the interfaces and type alias, set a <code>CSS</code> variable with a <code>base</code> property. This is used within the widget's <a href="../../api-reference/esri-widgets-Widget.html#render">render()</a> method.</p><pre><code class="ts"><span class="hljs-keyword">const</span> CSS = {
  base: <span class="hljs-string">"recenter-tool"</span>
};
</code></pre><h4 id="extend-widget-base-class-with-constructor-logic"><a id="1d"></a>Extend Widget base class with constructor logic</h4><p>Now in the <em>Recenter.tsx</em> file, add the following lines of code.</p><pre><code class="ts"><span class="hljs-meta">@subclass</span>(<span class="hljs-string">"esri.widgets.Recenter"</span>)
<span class="hljs-keyword">class</span> Recenter <span class="hljs-keyword">extends</span> declared(Widget) {

  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">super</span>();
    <span class="hljs-keyword">this</span>._onViewChange = <span class="hljs-keyword">this</span>._onViewChange.bind(<span class="hljs-keyword">this</span>);
  }

}
</code></pre><p>Here, we are extending the <a href="../../api-reference/esri-widgets-Widget.html">Widget</a> base class. The <a href="../../api-reference/esri-core-accessorSupport-decorators.html#subclass">@subclass</a> decorator is used in conjunction with <a href="../../api-reference/esri-core-accessorSupport-decorators.html#declared">declared</a> and is necessary as they are both key components needed for constructing subclasses off of a given base class.</p><p>The constructor logic is binding the <code>_onViewChange()</code> method to <code>this</code> widget instance.</p><div class="esri-md panel trailer-1"><p>By default, functions referenced in your elements will have <code>this</code> set to the actual element.</p></div><h4 id="add-postinitialize-logic"><a id="1e"></a>Add postInitialize logic</h4><p>The <a href="../../api-reference/esri-widgets-Widget.html#postInitialize">postInitialize</a> method is called after the widget is created but before the UI is rendered. In this particular case, we will initialize <a href="../../api-reference/esri-core-watchUtils.html#init">watchUtils</a> to watch for changes to the <code>View's</code> <a href="../../api-reference/esri-views-View.html#center">center</a>, <a href="../../api-reference/esri-views-View.html#interacting">interacting</a>, and <a href="../../api-reference/esri-views-View.html#scale">scale</a> properties in which it then calls the method, <code>_onViewChange</code>.</p><p>Add the following code to handle this,</p><pre><code class="ts">postInitialize() {
  watchUtils.init(<span class="hljs-keyword">this</span>, <span class="hljs-string">"view.center, view.interacting, view.scale"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>._onViewChange());
}
</code></pre><h4 id="add-widget-properties"><a id="1f"></a>Add widget properties</h4><p>Within this class implementation, add these properties:</p><pre><code class="ts">
<span class="hljs-comment">//----------------------------------</span>
<span class="hljs-comment">//  view</span>
<span class="hljs-comment">//----------------------------------</span>

<span class="hljs-meta">@property</span>()
<span class="hljs-meta">@renderable</span>()
view: MapView;

<span class="hljs-comment">//----------------------------------</span>
<span class="hljs-comment">//  initialCenter</span>
<span class="hljs-comment">//----------------------------------</span>

<span class="hljs-meta">@property</span>()
<span class="hljs-meta">@renderable</span>()
initialCenter: Coordinates;

<span class="hljs-comment">//----------------------------------</span>
<span class="hljs-comment">//  state</span>
<span class="hljs-comment">//----------------------------------</span>

<span class="hljs-meta">@property</span>()
<span class="hljs-meta">@renderable</span>()
state: State;

</code></pre><p>All of these properties have <a href="../../api-reference/esri-core-accessorSupport-decorators.html#property">@property</a> and <a href="../../api-reference/esri-widgets-support-widget.html#renderable">@renderable</a> decorators. The first one is used to define an <a href="../../api-reference/esri-core-Accessor.html">Accessor</a> property. By specifying this decorator within the property, you give this property the same behavior as other <a href="../../guide/working-with-props/index.html">properties within the API</a>. By specifying <a href="../../api-reference/esri-widgets-support-widget.html#renderable">@renderable</a> you are telling the widget to schedule a renderer for any modifications made to it.</p><p>In addition, you may notice that these properties are set to return an interface type or type alias specified in the beginning of this tutorial. For example, the <code>state</code> property is of type <code>State</code> which took two <code>x</code> and <code>y</code> number properties in addition to boolean <code>interacting</code> and number <code>scale</code> properties.</p><h4 id="add-widget-methods"><a id="1g"></a>Add widget methods</h4><p>Now, you will add both public and private methods to the widget.</p><pre><code class="ts">
// Public method
render() {
  const {x, y, scale} = this.state;
  const styles: Style = {
    textShadow: this.state.interacting ? '-1px 0 red, 0 1px red, 1px 0 red, 0 -1px red' : ''
  };
  return (
    &lt;div
     bind={this}
     class={CSS.base}
     styles={styles}
     onclick={this._defaultCenter}&gt;
     &lt;p&gt;x: {Number(x).toFixed(3)}&lt;/p&gt;
     &lt;p&gt;y: {Number(y).toFixed(3)}&lt;/p&gt;
     &lt;p&gt;scale: {Number(scale).toFixed(5)}&lt;/p&gt;
    &lt;/div&gt;
  );
}
</code></pre><pre><code class="ts"><span class="hljs-comment">// Private methods</span>

<span class="hljs-keyword">private</span> _onViewChange() {
  <span class="hljs-keyword">let</span> { interacting, center, scale } = <span class="hljs-keyword">this</span>.view;
  <span class="hljs-keyword">this</span>.state = {
    x: center.x,
    y: center.y,
    interacting,
    scale
  };
}

<span class="hljs-keyword">private</span> _defaultCenter() {
  <span class="hljs-keyword">this</span>.view.center = <span class="hljs-keyword">this</span>.initialCenter;
}
</code></pre><p>The <a href="../../api-reference/esri-widgets-Widget.html#render">render()</a> method is the only required member of the API that must be implemented. This method must return a valid UI representation. <a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a> is used to define the UI. With this said, it is important to note that we are not using <a href="https://facebook.github.io/react/">React</a>. The transpiled JSX is processed using a custom <a href="../../api-reference/esri-widgets-support-widget.html#tsx">JSX factory</a> therefore there is no direct equivalency between implementing a custom Widget and a React component.</p><p>The snippet above creates a <code>style</code> variable of type <code>Style</code>. The <code>textShadow</code> property updates to the specified string value upon interaction. In addition, three variables: <code>x</code>, <code>y</code>, and <code>scale</code> are set to the values of <code>this.state</code>.</p><p>The UI is rendered based on the specified <code>div</code> element attributes:</p><ol><li>First, the <code>bind</code> attribute is set to <code>this</code>, e.g. <code>bind={this}</code>.</li><li>Next, <code>class</code> is set to the <code>CSS.base</code> value, i.e. &quot;recenter-tool&quot;.</li><li>The <code>styles</code> will reflect the <code>textShadow</code> property set a few lines prior.</li><li>The <code>onclick</code> event (note the lower case 'c'), is set to call the private <code>_defaultCenter</code> method once the widget is clicked.</li><li>Lastly, the widget UI itself will display the <code>x: &lt;value&gt;</code>, <code>y: &lt;value&gt;</code>, and <code>scale: &lt;value&gt;</code> of the current view.</li></ol><h4 id="export-widget"><a id="1h"></a>Export widget</h4><p>At the very end of the code page, add a line to <a href="https://blog.oio.de/2014/01/31/an-introduction-to-typescript-module-system/#ConsumeExternalModules">export</a> the object into an easily- consumable external module.</p><pre><code class="ts"><span class="hljs-keyword">export</span> = Recenter;
</code></pre><div class="esri-md panel trailer-1"><p>For the full code sample, please refer to the <a href="#4">Source code</a>.</p></div><h3 id="2-compiling-the-tsx-file">2. <a id="2"></a>Compiling the TSX file</h3><p>Now that the widget's code is implemented, compile the <em>.tsx</em> file to its underlying JavaScript implementation.</p><p>In the command prompt, browse to the location of this sample directory and type <code>tsc</code>.</p><p>This compiles any specified <em>.tsx</em> files within the <em>tsconfig.json</em>'s files to their equivalent <em>.js</em> files. You should now have a new <em>Recenter.js</em> file generated in the same directory as its <em>.tsx</em> file, in addition to a <em>Recenter.js.map</em> <a href="https://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">sourcemap</a> file.</p><h3 id="3-add-the-widget-to-the-application">3. <a id="3"></a>Add the widget to the application</h3><p>Now that you generated the underlying <em>.js</em> file for the widget, it can be added into your JavaScript application. In the same <em>Recenter</em> directory, create an <em>index.html</em> file.</p><div class="esri-md panel trailer-1"><p>For the complete <em>index.html</em> file, please refer to the <a href="#6">Source code</a>.</p></div><h4 id="add-css"><a id="3a"></a>Add CSS</h4><p>The widget references the `.recenter-tool' class. Add a style element that references this class as seen below.</p><pre><code class="js">.recenter-tool {
   padding: 2em;
   position: absolute;
   top: 1em;
   right: 1em;
   width: 150px;
   height: 50px;
   color: #fff;
   background: rgba(0, 0, 0, 0.5);
   z-index: 999;
 }

 .recenter-tool&gt;p {
   margin: 0;
 }
</code></pre><h4 id="add-the-custom-widget-reference"><a id="3b"></a>Add the custom widget reference</h4><p>Once you've created the custom widget, you need to load it. This comes down to telling Dojo's module loader how to resolve the path for your widget which means mapping a module identifier to a file on your web server. On the SitePen blog, there's a <a href="https://www.sitepen.com/blog/2013/06/20/dojo-faq-what-is-the-difference-packages-vs-paths-vs-aliases/">post</a> discussing the differences between aliases, paths and packages which may help alleviate any questions specific to this.</p><p>Add a script element that handles loading this custom widget as seen below.</p><pre><code class="js">&lt;script&gt;
<span class="hljs-keyword">var</span> locationPath = location.pathname.replace(<span class="hljs-regexp">/\/[^\/]+$/</span>, <span class="hljs-string">""</span>);
<span class="hljs-built_in">window</span>.dojoConfig = {
  <span class="hljs-attr">packages</span>: [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">"app"</span>,
      <span class="hljs-attr">location</span>: locationPath + <span class="hljs-string">"/app"</span>
    }
  ]
};
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre><h4 id="reference-and-use-the-custom-widget"><a id="3c"></a>Reference and use the custom widget</h4><p>Now that Dojo knows where to find modules in the <em>app</em> folder, <code>require</code> can be used to load it along with other modules used by the application.</p><p>Here's a require block that loads the <code>app/Recenter</code> module in addition to some others. There is also a reference to a few global variables for <code>map</code>, <code>recenter</code>, and <code>view</code>.</p><pre><code class="js"><span class="hljs-keyword">var</span> map, recenter, view;

<span class="hljs-built_in">require</span>([
  <span class="hljs-string">"esri/Map"</span>,
  <span class="hljs-string">"esri/views/MapView"</span>,
  <span class="hljs-string">"app/Recenter"</span>,
  <span class="hljs-string">"esri/layers/VectorTileLayer"</span>,
  <span class="hljs-string">"dojo/domReady!"</span>,

  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Map, MapView, Recenter, VectorTileLayer</span>) </span>{ }
</code></pre><p>The pertinent code snippet within this file is when the <code>Recenter</code> widget is instantiated as seen below.</p><pre><code class="js">recenter = <span class="hljs-keyword">new</span> Recenter({
  <span class="hljs-attr">view</span>: view,
  <span class="hljs-attr">initialCenter</span>: [<span class="hljs-number">-100.33</span>, <span class="hljs-number">43.69</span>]
});
view.ui.add(recenter, <span class="hljs-string">"top-right"</span>);

</code></pre><h3 id="source-code"><a id="4"></a>Source code</h3><h4 id="put-it-all-together">Put it all together</h4><p>The <em>index.html</em> code should look similar to the following.</p><p></p><div class="trailer-2 js-tab-group"><nav class="tab-nav"><a class="tab-title is-active js-tab">index.html</a> <a class="tab-title js-tab">Recenter.tsx</a> <a class="tab-title js-tab">Recenter.js</a></nav><section class="tab-contents"><article class="tab-section is-active js-tab-section"><pre><code>
<span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Type"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"text/html; charset=utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"initial-scale=1, maximum-scale=1,user-scalable=no"</span> /&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Custom Recenter Widget - 4.4<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://js.arcgis.com/4.4/esri/css/main.css"</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">html</span>,
    <span class="hljs-selector-tag">body</span>,
    <span class="hljs-selector-id">#viewDiv</span> {
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    }

    <span class="hljs-selector-tag">html</span>,
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">font-family</span>: sans-serif, <span class="hljs-string">'Trebuchet MS'</span>, <span class="hljs-string">'Lucida Sans Unicode'</span>, <span class="hljs-string">'Lucida Grande'</span>, <span class="hljs-string">'Lucida Sans'</span>, Arial, sans-serif
    }

    <span class="hljs-selector-class">.recenter-tool</span> {
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">2em</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
      <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.5);
    }

    <span class="hljs-selector-class">.recenter-tool</span>&gt;<span class="hljs-selector-tag">p</span> {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> locationPath = location.pathname.replace(<span class="hljs-regexp">/\/[^\/]+$/</span>, <span class="hljs-string">""</span>);
      <span class="hljs-built_in">window</span>.dojoConfig = {
        <span class="hljs-attr">packages</span>: [
        {
          <span class="hljs-attr">name</span>: <span class="hljs-string">"app"</span>,
          <span class="hljs-attr">location</span>: locationPath + <span class="hljs-string">"/app"</span>
        }
      ]
    };
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://js.arcgis.com/4.4/"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> map, recenter, view;
    <span class="hljs-built_in">require</span>([
      <span class="hljs-string">"esri/Map"</span>,
      <span class="hljs-string">"esri/views/MapView"</span>,
      <span class="hljs-string">"app/Recenter"</span>,
      <span class="hljs-string">"esri/layers/VectorTileLayer"</span>,
      <span class="hljs-string">"dojo/domReady!"</span>
    ], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">
      Map, MapView, Recenter, VectorTileLayer
    </span>) </span>{
      map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>({
        <span class="hljs-attr">basemap</span>: <span class="hljs-string">"gray-vector"</span>
      });
      <span class="hljs-keyword">var</span> tileLyr = <span class="hljs-keyword">new</span> VectorTileLayer({
        <span class="hljs-attr">url</span>: <span class="hljs-string">"https://www.arcgis.com/sharing/rest/content/items/92c551c9f07b4147846aae273e822714/resources/styles/root.json"</span>
      });
      map.add(tileLyr);
      view = <span class="hljs-keyword">new</span> MapView({
        <span class="hljs-attr">container</span>: <span class="hljs-string">'viewDiv'</span>,
        <span class="hljs-attr">map</span>: map,
        <span class="hljs-attr">center</span>: [<span class="hljs-number">-100.33</span>, <span class="hljs-number">43.69</span>],
        <span class="hljs-attr">zoom</span>: <span class="hljs-number">4</span>
      });
      view.then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        recenter = <span class="hljs-keyword">new</span> Recenter({
          <span class="hljs-attr">view</span>: view,
          <span class="hljs-attr">initialCenter</span>: [<span class="hljs-number">-100.33</span>, <span class="hljs-number">43.69</span>]
        });
        view.ui.add(recenter, <span class="hljs-string">"top-right"</span>);
      });
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"viewDiv"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></article><article class="tab-section js-tab-section"><pre><code>
<span class="hljs-comment">/// &lt;amd-dependency path="esri/core/tsSupport/declareExtendsHelper" name="__extends" /&gt;</span>
<span class="hljs-comment">/// &lt;amd-dependency path="esri/core/tsSupport/decorateHelper" name="__decorate" /&gt;</span>

<span class="hljs-keyword">import</span> { subclass, declared, property } from <span class="hljs-string">"esri/core/accessorSupport/decorators"</span>;
<span class="hljs-keyword">import</span> Widget = require(<span class="hljs-string">"esri/widgets/Widget"</span>);
<span class="hljs-keyword">import</span> watchUtils = require(<span class="hljs-string">"esri/core/watchUtils"</span>);

<span class="hljs-keyword">import</span> { renderable, tsx } from <span class="hljs-string">"esri/widgets/support/widget"</span>;

<span class="hljs-keyword">import</span> Point = require(<span class="hljs-string">"esri/geometry/Point"</span>);
<span class="hljs-keyword">import</span> MapView = require(<span class="hljs-string">"esri/views/MapView"</span>);

type Coordinates = Point | number[] | any;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Center</span> </span>{
  x: number;
  y: number;
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">State</span> <span class="hljs-title">extends</span> <span class="hljs-title">Center</span> </span>{
  interacting: boolean;
  scale: number;
}

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Style</span> </span>{
  textShadow: string;
}

const CSS = {
  base: <span class="hljs-string">"recenter-tool"</span>
};

<span class="hljs-meta">@subclass(<span class="hljs-meta-string">"esri.widgets.Recenter"</span>)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Recenter</span> <span class="hljs-title">extends</span> <span class="hljs-title">declared</span></span>(Widget) {

  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">super</span>();
    <span class="hljs-keyword">this</span>._onViewChange = <span class="hljs-keyword">this</span>._onViewChange.bind(<span class="hljs-keyword">this</span>)
  }

  postInitialize() {
    watchUtils.init(<span class="hljs-keyword">this</span>, <span class="hljs-string">"view.center, view.interacting, view.scale"</span>, () =&gt; <span class="hljs-keyword">this</span>._onViewChange());

  }

  <span class="hljs-comment">//--------------------------------------------------------------------</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">//  Properties</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">//--------------------------------------------------------------------</span>

  <span class="hljs-comment">//----------------------------------</span>
  <span class="hljs-comment">//  view</span>
  <span class="hljs-comment">//----------------------------------</span>

  <span class="hljs-meta">@property()</span>
  <span class="hljs-meta">@renderable()</span>
  view: MapView;

  <span class="hljs-comment">//----------------------------------</span>
  <span class="hljs-comment">//  initialCenter</span>
  <span class="hljs-comment">//----------------------------------</span>

  <span class="hljs-meta">@property()</span>
  <span class="hljs-meta">@renderable()</span>
  initialCenter: Coordinates;

  <span class="hljs-comment">//----------------------------------</span>
  <span class="hljs-comment">//  state</span>
  <span class="hljs-comment">//----------------------------------</span>

  <span class="hljs-meta">@property()</span>
  <span class="hljs-meta">@renderable()</span>
  state: State;

  <span class="hljs-comment">//-------------------------------------------------------------------</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">//  Public methods</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">//-------------------------------------------------------------------</span>

  render() {
    const { x, y, scale } = <span class="hljs-keyword">this</span>.state;
    const styles: Style = {
      textShadow: <span class="hljs-keyword">this</span>.state.interacting ? <span class="hljs-string">'-1px 0 red, 0 1px red, 1px 0 red, 0 -1px red'</span> : <span class="hljs-string">''</span>
    };
    <span class="hljs-keyword">return</span> (
      &lt;div
        bind={<span class="hljs-keyword">this</span>}
        <span class="hljs-class"><span class="hljs-keyword">class</span>=</span>{CSS.base}
        styles={styles}
        onclick={<span class="hljs-keyword">this</span>._defaultCenter}&gt;
        &lt;p&gt;x: {Number(x).toFixed(<span class="hljs-number">3</span>)}&lt;/p&gt;
        &lt;p&gt;y: {Number(y).toFixed(<span class="hljs-number">3</span>)}&lt;/p&gt;
        &lt;p&gt;scale: {Number(scale).toFixed(<span class="hljs-number">5</span>)}&lt;/p&gt;
      &lt;/div&gt;
    );
  }

  <span class="hljs-comment">//-------------------------------------------------------------------</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">//  Private methods</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">//-------------------------------------------------------------------</span>

  <span class="hljs-keyword">private</span> _onViewChange() {
    let { interacting, center, scale } = <span class="hljs-keyword">this</span>.view;
    <span class="hljs-keyword">this</span>.state = {
      x: center.x,
      y: center.y,
      interacting,
      scale
    };
  }

  <span class="hljs-keyword">private</span> _defaultCenter() {
    <span class="hljs-keyword">this</span>.view.goTo(<span class="hljs-keyword">this</span>.initialCenter);
  }
}

export = Recenter;
</code></pre></article><article class="tab-section js-tab-section"><pre><code>
<span class="hljs-comment">/// &lt;amd-dependency path="esri/core/tsSupport/declareExtendsHelper" name="__extends" /&gt;</span>
<span class="hljs-comment">/// &lt;amd-dependency path="esri/core/tsSupport/decorateHelper" name="__decorate" /&gt;</span>
<span class="hljs-keyword">var</span> __extends = (<span class="hljs-keyword">this</span> &amp;&amp; <span class="hljs-keyword">this</span>.__extends) || (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> extendStatics = <span class="hljs-built_in">Object</span>.setPrototypeOf ||
        ({ <span class="hljs-attr">__proto__</span>: [] } <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> &amp;&amp; <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">d, b</span>) </span>{ d.__proto__ = b; }) ||
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">d, b</span>) </span>{ <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> b) <span class="hljs-keyword">if</span> (b.hasOwnProperty(p)) d[p] = b[p]; };
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">d, b</span>) </span>{
        extendStatics(d, b);
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">this</span>.constructor = d; }
        d.prototype = b === <span class="hljs-literal">null</span> ? <span class="hljs-built_in">Object</span>.create(b) : (__.prototype = b.prototype, <span class="hljs-keyword">new</span> __());
    };
})();
<span class="hljs-keyword">var</span> __decorate = (<span class="hljs-keyword">this</span> &amp;&amp; <span class="hljs-keyword">this</span>.__decorate) || <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">decorators, target, key, desc</span>) </span>{
    <span class="hljs-keyword">var</span> c = <span class="hljs-built_in">arguments</span>.length, r = c &lt; <span class="hljs-number">3</span> ? target : desc === <span class="hljs-literal">null</span> ? desc = <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(target, key) : desc, d;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Reflect</span> === <span class="hljs-string">"object"</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Reflect</span>.decorate === <span class="hljs-string">"function"</span>) r = <span class="hljs-built_in">Reflect</span>.decorate(decorators, target, key, desc);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = decorators.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) <span class="hljs-keyword">if</span> (d = decorators[i]) r = (c &lt; <span class="hljs-number">3</span> ? d(r) : c &gt; <span class="hljs-number">3</span> ? d(target, key, r) : d(target, key)) || r;
    <span class="hljs-keyword">return</span> c &gt; <span class="hljs-number">3</span> &amp;&amp; r &amp;&amp; <span class="hljs-built_in">Object</span>.defineProperty(target, key, r), r;
};
define([<span class="hljs-string">"require"</span>, <span class="hljs-string">"exports"</span>, <span class="hljs-string">"esri/core/tsSupport/declareExtendsHelper"</span>, <span class="hljs-string">"esri/core/tsSupport/decorateHelper"</span>, <span class="hljs-string">"esri/core/accessorSupport/decorators"</span>, <span class="hljs-string">"esri/widgets/Widget"</span>, <span class="hljs-string">"esri/core/watchUtils"</span>, <span class="hljs-string">"esri/widgets/support/widget"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, __extends, __decorate, decorators_1, Widget, watchUtils, widget_1</span>) </span>{<span class="hljs-meta">
    "use strict"</span>;
    <span class="hljs-keyword">var</span> CSS = {
        <span class="hljs-attr">base</span>: <span class="hljs-string">"recenter-tool"</span>
    };
    <span class="hljs-keyword">var</span> Recenter = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">_super</span>) </span>{
        __extends(Recenter, _super);
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Recenter</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> _this = _super.call(<span class="hljs-keyword">this</span>) || <span class="hljs-keyword">this</span>;
            _this._onViewChange = _this._onViewChange.bind(_this);
            <span class="hljs-keyword">return</span> _this;
        }
        Recenter.prototype.postInitialize = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> _this = <span class="hljs-keyword">this</span>;
            watchUtils.init(<span class="hljs-keyword">this</span>, <span class="hljs-string">"view.center, view.interacting, view.scale"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> _this._onViewChange(); });
        };
        <span class="hljs-comment">//-------------------------------------------------------------------</span>
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">//  Public methods</span>
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">//-------------------------------------------------------------------</span>
        Recenter.prototype.render = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> _a = <span class="hljs-keyword">this</span>.state, x = _a.x, y = _a.y, scale = _a.scale;
            <span class="hljs-keyword">var</span> styles = {
                <span class="hljs-attr">textShadow</span>: <span class="hljs-keyword">this</span>.state.interacting ? <span class="hljs-string">'-1px 0 red, 0 1px red, 1px 0 red, 0 -1px red'</span> : <span class="hljs-string">''</span>
            };
            <span class="hljs-keyword">return</span> (widget_1.tsx(<span class="hljs-string">"div"</span>, { <span class="hljs-attr">bind</span>: <span class="hljs-keyword">this</span>, <span class="hljs-attr">class</span>: CSS.base, <span class="hljs-attr">styles</span>: styles, <span class="hljs-attr">onclick</span>: <span class="hljs-keyword">this</span>._defaultCenter },
                widget_1.tsx(<span class="hljs-string">"p"</span>, <span class="hljs-literal">null</span>,
                    <span class="hljs-string">"x: "</span>,
                    <span class="hljs-built_in">Number</span>(x).toFixed(<span class="hljs-number">3</span>)),
                widget_1.tsx(<span class="hljs-string">"p"</span>, <span class="hljs-literal">null</span>,
                    <span class="hljs-string">"y: "</span>,
                    <span class="hljs-built_in">Number</span>(y).toFixed(<span class="hljs-number">3</span>)),
                widget_1.tsx(<span class="hljs-string">"p"</span>, <span class="hljs-literal">null</span>,
                    <span class="hljs-string">"scale: "</span>,
                    <span class="hljs-built_in">Number</span>(scale).toFixed(<span class="hljs-number">5</span>))));
        };
        <span class="hljs-comment">//-------------------------------------------------------------------</span>
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">//  Private methods</span>
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">//-------------------------------------------------------------------</span>
        Recenter.prototype._onViewChange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> _a = <span class="hljs-keyword">this</span>.view, interacting = _a.interacting, center = _a.center, scale = _a.scale;
            <span class="hljs-keyword">this</span>.state = {
                <span class="hljs-attr">x</span>: center.x,
                <span class="hljs-attr">y</span>: center.y,
                <span class="hljs-attr">interacting</span>: interacting,
                <span class="hljs-attr">scale</span>: scale
            };
        };
        Recenter.prototype._defaultCenter = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.view.goTo(<span class="hljs-keyword">this</span>.initialCenter);
        };
        <span class="hljs-keyword">return</span> Recenter;
    }(decorators_1.declared(Widget)));
    __decorate([
        decorators_1.property(),
        widget_1.renderable()
    ], Recenter.prototype, <span class="hljs-string">"view"</span>, <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    __decorate([
        decorators_1.property(),
        widget_1.renderable()
    ], Recenter.prototype, <span class="hljs-string">"initialCenter"</span>, <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    __decorate([
        decorators_1.property(),
        widget_1.renderable()
    ], Recenter.prototype, <span class="hljs-string">"state"</span>, <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
    Recenter = __decorate([
        decorators_1.subclass(<span class="hljs-string">"esri.widgets.Recenter"</span>)
    ], Recenter);
    <span class="hljs-keyword">return</span> Recenter;
});
<span class="hljs-comment">//# sourceMappingURL=Recenter.js.map</span></code></pre></article></section></div><p></p><h3 id="additional-information"><a id="5"></a>Additional information</h3><p>The files used in this example can be accessed from the source code above. Please use these files as a starting point to begin creating your own custom classes and widgets.</p><ul><li><a href="../../guide/typescript-setup/index.html">TypeScript Setup</a></li><li><a href="../../api-reference/esri-core-Accessor.html">Accessor</a> class</li><li><a href="../../guide/implementing-accessor/index.html">Implementing Accessor</a></li><li><a href="../../sample-code/widgets-custom-widget/index.html">Create custom widget</a> sample</li><li><a href="../../guide/styling/index.html">Styling</a></li><li><a href="https://www.typescriptlang.org">TypeScript</a> reference</li><li><a href="https://www.typescriptlang.org/docs/handbook/jsx.html">JSX</a> reference</li><li><a href="../../guide/migrating/index.html#properties">Migrating from 3.x to 4.4</a></li></ul><div class="sample-code-tags leader-1 padding-leader-half"><h5 class="trailer-half">Tags</h5><p class="tags"><a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search=custom">custom</a>,<a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search= widget"> widget</a>,<a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search= accessor"> accessor</a>,<a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search= decorator"> decorator</a>,<a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search= recenter"> recenter</a>,<a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search= typescript"> typescript</a>,<a class="sample-code-tag" href="../../sample-code/widgets-custom-recenter/index.html?search= interface"> interface</a></p></div></div><div class="search-results-sample-code js-search-results-sample-code"><h1 class="js-search-results-sample-code-header">Sample search results</h1><div class="trailer-1 clearfix"><div class="left search-results-sample-code-tags js-search-results-sample-code-tags"></div><div class="right js-toggle-view"><button class="view-toggle-btn is-active btn-grouped js-toggle-view-btn icon-ui-basemap icon-ui-flush view-toggle-icon"></button> <button class="view-toggle-btn btn-grouped js-toggle-view-btn icon-ui-table icon-ui-flush"></button></div></div><div class="block-group block-group-4-up tablet-block-group-3-up phone-block-group-1-up"></div><table class="table-striped"><thead><tr><th>Title</th><th>Sample</th></tr></thead><tbody></tbody></table><div class="panel-no-border search-no-results js-search-no-results-sample-code"><p>There were no match results from your search criteria.</p></div></div></main></div><div class="footnote feedback right trailer-1"><a class="icon-ui-contact js-feedback" href="mailto:js_feedback@esri.com?subject=Feedback%20on%204.4%20-%20sample-code:%20Custom%20Recenter%20Widget&body=Hello,%0A%0AI%20was%20reading%20the%20ArcGIS%20API%20for%20JavaScript%20version%204.4%20documentation%20and%20have%20some%20feedback.%0A%0ADocumentation%20details:%0APage%20title:%20%7BREPLACE_TITLE%7D%0APage%20URL:%20%7BREPLACE_URL%7D%0A%0A">Feedback on this topic?</a></div></div></div><footer class="footer leader- link-dark-gray" role="contentinfo"><div class="grid-container"><nav class="column-6"><h6>ArcGIS for Developers</h6><ul class="list-plain"><li><a href="/">Home</a></li><li><a href="/features/">Features</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/support/">Support</a></li><li><a href="/pricing/">Pricing</a></li><li><a href="/startups/">Startups</a></li><li><a href="https://blogs.esri.com/esri/arcgis/category/developer/">Blog</a></li></ul></nav><nav class="column-6"><h6>ArcGIS Platform</h6><ul class="list-plain"><li><a href="http://arcgis.com">ArcGIS Online</a></li><li><a href="http://desktop.arcgis.com">ArcGIS Desktop</a></li><li><a href="http://server.arcgis.com">ArcGIS Enterprise</a></li><li><a href="http://developers.arcgis.com">ArcGIS for Developers</a></li><li><a href="http://solutions.arcgis.com">ArcGIS Solutions</a></li><li><a href="http://marketplace.arcgis.com">ArcGIS Marketplace</a></li></ul></nav><nav class="column-6"><h6>About Esri</h6><ul class="list-plain"><li><a href="http://www.esri.com/about-esri/">About Us</a></li><li><a href="http://www.esri.com/careers/">Careers</a></li><li><a href="https://blogs.esri.com/esri/esri-insider/">Insiders Blog</a></li><li><a href="http://www.esri.com/events/user-conference/index.html">User Conference</a></li><li><a href="http://www.esri.com/events/devsummit/index.html">Developer Summit</a></li></ul></nav><nav class="column-6"><a class="esri-logo" href="http://esri.com" aria-label="Esri Home"></a><div class="footer-social-nav leader-1"><a class="icon-social-twitter" aria-label="Esri on Twitter" href="https://twitter.com/Esri/"></a> <a class="icon-social-facebook" aria-label="Esri on Facebook" href="https://www.facebook.com/esrigis/"></a> <a class="icon-social-github" aria-label="Esri on GitHub" href="http://esri.github.com/"></a> <a class="icon-social-contact" aria-label="Contact Esri" href="http://www.esri.com/about-esri/contact/"></a></div></nav><div class="column-24 leader-1"><p><small><a href="http://www.esri.com/legal/copyright-trademarks">Copyright © 2017 Esri</a>. All rights reserved. | <a href="http://www.esri.com/legal/privacy">Privacy</a> | <a href="http://www.esri.com/legal/software-license">Terms of use</a> | <a href="/terms/">Plain English</a> | <a href="/terms/faq/">FAQ</a></small></p></div></div></footer><script></script><script src="../../assets/js/config.js"></script><script src="../../assets/js/preparse.js"></script><script src="../../assets/js/libs/FileSaver.js"></script><script src="../../assets/js/libs/mousetrap.js"></script><script>if (typeof Mousetrap === "function") {
    function focusSearch(e) {
      // --------------------------------------------------------------------
      // prevent the keyboard action from populating the search input
      // with the forward slash (/)
      // --------------------------------------------------------------------
      e.preventDefault();
      // .js-search-api-reference or .js-search-sample-code
      var searchElement = document.querySelector(".js-search-sample-code");
      // --------------------------------------------------------------------
      // Tablet and phone viewports need a different CSS selector than
      // desktop viewports.
      // --------------------------------------------------------------------
      var mq = window.matchMedia("(max-width: 1023px)");
      if (mq.matches){
        // --------------------------------------------------------------------
        // Tablet and phone viewports need the media query to be more specific
        // since there are more than one search input box on each page.
        // --------------------------------------------------------------------
        searchElement = document.querySelector("div.tablet-show .js-search-sample-code");
      }
      searchElement.value = "";
      searchElement.focus();
    }
    Mousetrap.bind('/', focusSearch);
  }</script><script src="../../assets/js/libs/url-search-params.js"></script><script src="../../assets/js/calcite-web.js"></script><script src="../../assets/js/calcite-web-extend.js"></script><script src="../../assets/js/libs/lunr.js"></script><script src="../../assets/js/sample-code-lunr.js"></script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJGGV5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script><script type="text/javascript">if (_satellite && _satellite.pageBottom) { _satellite.pageBottom(); }</script><script type="text/javascript" src="https://go.pardot.com/dcjs/82202/1182/dc.js"></script></body></html>