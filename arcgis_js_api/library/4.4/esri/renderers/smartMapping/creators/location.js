// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports dojo/_base/lang ../../../views/SceneView ../../SimpleRenderer ../../../core/promiseUtils ../symbology/location ./support/utils ../support/utils".split(" "),function(r,h,l,m,n,f,g,e,k){function p(d){if(!d||!d.layer)return f.reject(e.createError("location-renderer:missing-parameters","'layer' parameter is required"));var a=l.mixin({},d);a.symbolType=a.symbolType||"2d";a.layer=k.createLayerAdapter(a.layer);return a.layer?a.layer.load().then(function(){var b=a.layer.geometryType,
c=-1<a.symbolType.indexOf("3d");if("mesh"===b)a.symbolType="3d-volumetric",a.colorMixMode=a.colorMixMode||"replace";else{if(c&&("polyline"===b||"polygon"===b))return f.reject(e.createError("location-renderer:not-supported","3d symbols are not supported for polyline and polygon layers"));if(-1<a.symbolType.indexOf("3d-volumetric")&&!(a.view instanceof m))return f.reject(e.createError("location-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'"))}return a}):
f.reject(e.createError("location-renderer:invalid-parameters","'layer' must be one of these types: "+q))}Object.defineProperty(h,"__esModule",{value:!0});var q=k.supportedLayerTypes.join(", ");h.createRenderer=function(d){return p(d).then(function(a){var b,c,d=a.layer.geometryType;b=a.locationScheme;c=a.basemap;b?b=g.cloneScheme(b):(b=(c=g.getSchemes({basemap:a.basemap,geometryType:d,worldScale:-1<a.symbolType.indexOf("3d-volumetric"),view:a.view}))&&c.primaryScheme,c=c&&c.basemapId);return b?{renderer:new n({symbol:e.createSymbol(b,
b.color,d,a.symbolType,a.colorMixMode)}),locationScheme:g.cloneScheme(b),basemapId:c}:f.reject(e.createError("location-renderer:insufficient-info","Unable to find location scheme"))})}});