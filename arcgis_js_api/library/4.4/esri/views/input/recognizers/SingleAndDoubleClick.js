// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler","./support"],function(f,g,h,k,l){Object.defineProperty(g,"__esModule",{value:!0});f=function(f){function e(a,c,d){void 0===a&&(a=250);void 0===c&&(c=10);void 0===d&&(d=35);var b=f.call(this,"recognizers.SingleAndDoubleClick",!1)||this;b.maximumDoubleClickDelay=a;b.maximumDoubleClickDistance=c;b.maximumDoubleTouchDistance=d;b._pointerState=new Map;b._click=b.registerOutgoing("click");b._doubleClick=b.registerOutgoing("double-click");
b.registerIncoming("pointer-click",b._handlePointerClick.bind(b));return b}h(e,f);e.prototype._pointerId=function(a){a=a.native;return"mouse"===a.pointerType?a.pointerId+":"+a.button:""+a.pointerType};e.prototype._handlePointerClick=function(a){var c=a.data,d=this._pointerId(c),b=this._pointerState.get(d);if(b){clearTimeout(b.doubleClickTimeout);b.doubleClickTimeout=0;var e="touch"===c.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;l.manhattanDistance(b.event.data,
c)>e?(this._doubleClickTimeoutExceeded(d),this._startClick(a)):(this._doubleClick.emit(c,void 0,b.event.modifiers),this._pointerState.delete(d))}else this._startClick(a)};e.prototype._startClick=function(a){var c=this,d=this._pointerId(a.data);this._pointerState.set(d,{event:a,doubleClickTimeout:setTimeout(function(){return c._doubleClickTimeoutExceeded(d)},this.maximumDoubleClickDelay)})};e.prototype._doubleClickTimeoutExceeded=function(a){var c=this._pointerState.get(a);this._click.emit(c.event.data,
void 0,c.event.modifiers);c.doubleClickTimeout=0;this._pointerState.delete(a)};return e}(k.InputHandler);g.SingleAndDoubleClick=f});