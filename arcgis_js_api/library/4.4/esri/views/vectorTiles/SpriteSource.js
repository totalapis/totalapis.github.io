// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper dojo/Deferred dojo/promise/all ../../request ../../kernel ../../core/promiseUtils".split(" "),function(n,p,q,r,k,l,m,g,f){return function(){function a(c,d){this.baseURL=c;this.devicePixelRatio=d;this._isRetina=!1;this._spritesData={};this.height=this.width=this.image=null;this.loadStatus="not-loaded"}Object.defineProperty(a.prototype,"spriteNames",{get:function(){var c=[],d;for(d in this._spritesData)c.push(d);
c.sort();return c},enumerable:!0,configurable:!0});a.prototype.getSpritePosition=function(c){return this._spritesData[c]};a.prototype.load=function(){var c=this;this.loadStatus="loading";return this.baseURL?this._loadSprites().then(function(){c.loadStatus="loaded";return c}).otherwise(function(d){c.loadStatus="failed";return c}):f.resolve(this)};a.prototype._loadSprites=function(){var c=this;this._isRetina=1.15<this.devicePixelRatio?!0:!1;var d=this.baseURL,a=this._isRetina?"@2x":"",f=m(d+a+".json",
{callbackParamName:"callback",responseType:"json"}).then(function(b){c._spritesData=b.data}),h=new k,e=new Image;e.crossOrigin="anonymous";e.onload=function(){e.onload=null;c.width=e.width;c.height=e.height;var b=document.createElement("canvas");b.width=e.width;b.height=e.height;b=b.getContext("2d");b.drawImage(e,0,0,e.width,e.height);for(var b=b.getImageData(0,0,e.width,e.height),b=new Uint8Array(b.data),d,a=0;a<b.length;a+=4)d=b[a+3]/255,b[a]*=d,b[a+1]*=d,b[a+2]*=d;c.image=b;h.resolve()};d=""+d+
a+".png";g.id&&(a=g.id.findCredential(d))&&a.token&&(d+="?token\x3d"+a.token);e.src=d;return l([f,h.promise])};return a}()});