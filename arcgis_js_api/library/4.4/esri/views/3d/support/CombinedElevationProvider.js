// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Accessor ./Evented".split(" "),function(g,q,m,l,k,n,p){g=function(g){function h(e){var a=g.call(this)||this;a.providers={im:[],ground:[],scene:[]};a.handles=new Map;a.elevationChange=function(b){a.emit("elevation-change",b)};a.view=e;return a}m(h,g);h.prototype.getElevation=function(e,a){var b=-Infinity,c=!1;if("scene"===a)for(var f=0,g=
this.providers.im;f<g.length;f++){var d=g[f],d=d.getElevation(e,a);null!=d&&(b=Math.max(d,b),!c&&isFinite(b)&&(c=!0))}if(!c)for(c=0,f=this.providers.ground;c<f.length;c++)d=f[c],d=d.getElevation(e,a),null!=d&&(b=Math.max(d,b));if("scene"===a)for(c=0,f=this.providers.scene;c<f.length;c++)d=f[c],d=d.getElevation(e,a),null!=d&&(b=Math.max(d,b));return isFinite(b)?b:null};h.prototype.register=function(e,a){this.handles.set(a,a.on("elevation-change",this.elevationChange));this.providers[e].push(a)};h.prototype.unregister=
function(e){this.handles.has(e)&&(this.handles.get(e).remove(),this.handles.delete(e));for(var a=0,b=Object.keys(this.providers);a<b.length;a++){var c=b[a],f=this.providers[c].indexOf(e);-1<f&&this.providers[c].splice(f,1)}};return h}(k.declared(n,p.Evented));l([k.property({readOnly:!0})],g.prototype,"view",void 0);l([k.property({readOnly:!0,aliasOf:"view.basemapTerrain.spatialReference"})],g.prototype,"spatialReference",void 0);return g=l([k.subclass("esri.views.3d.support.CombinedElevationProvider")],
g)});