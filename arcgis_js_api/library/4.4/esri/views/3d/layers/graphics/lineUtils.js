// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/materials/NativeLineMaterial ../../webgl-engine/lib/GeometryData ../../webgl-engine/lib/Util".split(" "),function(u,f,q,r,n,t){function p(a){var d=a.length;return a[0]===a[d-3]&&a[1]===a[d-2]&&a[2]===a[d-1]}Object.defineProperty(f,"__esModule",{value:!0});var l=t.VertexAttrConstants;f.createRibbonMaterial=function(a){var d={width:a.width,color:a.color,miterLimit:a.miterLimit,polygonOffset:!0};"miter"===a.join||
"bevel"===a.join?d.join=a.join:(d.join="miter",a.join&&console.warn("unsupported join type for line symbol: "+a.join));return new q(d,a.idHint+"_ribbonlinemat")};f.createNativeMaterial=function(a){return new r(a.width,a.color,a.idHint+"_nativelinemat")};f.createOutlineGeometryFromSegments=function(a,d){for(var e=[],k=0;k<d.length;k++)for(var g=a[k],c=0;c<d[k].length;c++){for(var b=d[k][c],h=[],f=b[0];f<b[1];f++)h.push(g[f]);0<h.length&&e.push(h)}return e};f.isClosed=p;f.createPolylineGeometry=function(a,
d,e,f,g){var c,b,h;if(e=e&&!p(a)){e=new Float32Array(a.length+3);for(b=0;b<a.length;b++)e[b]=a[b];b=e.length;e[b-3]=a[0];e[b-2]=a[1];e[b-1]=a[2];c=a.length/3+1;b=new Uint32Array(2*(c-1));h=new Uint32Array(2*(c-1))}else c=a.length/3,b=new Uint32Array(2*(c-1)),h=new Uint32Array(2*(c-1)),e=a;a=new Float32Array(1);a[0]=g;for(var k=g=0,m=0;m<c-1;m++)b[g++]=m,b[g++]=m+1,h[k++]=0,h[k++]=0;g={};c={};g[l.POSITION]=b;g[l.COLOR]=h;g[l.SIZE]=h;c[l.POSITION]={size:3,data:e};c[l.COLOR]={size:4,data:f};c[l.SIZE]=
{size:1,data:a};d&&(g.mapPos=b,c.mapPos={size:3,data:d});return new n(c,g,n.DefaultOffsets,"line")}});