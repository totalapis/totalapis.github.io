// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/HandleRegistry ./LayerView2D ./support/FeaturesView2D".split(" "),function(c,l,f,e,d,g,h,k){c=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;a._handles=new g;a.featuresView=new k;a.container=a.featuresView.container;return a}f(b,c);b.prototype.queryGraphics=function(){return this.featuresView.queryGraphics()};b.prototype.queryFeatures=
function(a){return this.featuresView.queryFeatures(a)};b.prototype.queryObjectIds=function(a){return this.featuresView.queryObjectIds(a)};b.prototype.queryFeatureCount=function(a){return this.featuresView.queryFeatureCount(a)};b.prototype.queryExtent=function(a){return this.featuresView.queryExtent(a)};b.prototype.hitTest=function(a,b){return this.featuresView.hitTest(a,b)};b.prototype.update=function(a){this.controller&&this.controller.update&&this.controller.update(a)};b.prototype.attach=function(){var a=
this;this.layer.createGraphicsController({layerView:this}).then(function(b){a.attached&&(a._set("controller",b),a.requestUpdate(),a.featuresView.mapView=a.view,a.featuresView.graphics=b.graphics,a.featuresView.layer=a.layer,a.featuresView.renderer=a.layer.renderer,a._handles.add(a.layer.watch("renderer",function(){a.featuresView.renderer=a.layer.renderer})))})};b.prototype.detach=function(){this.featuresView.graphics=null;this.featuresView.renderer=null;this._handles.removeAll();this.controller&&
(this.controller.destroy&&this.controller.destroy(),this._set("controller",null))};b.prototype.moveStart=function(){};b.prototype.viewChange=function(){};b.prototype.moveEnd=function(){this.requestUpdate()};b.prototype.isUpdating=function(){return null==this.controller||!0===this.get("controller.updating")};return b}(d.declared(h));e([d.property({readOnly:!0})],c.prototype,"controller",void 0);e([d.property({dependsOn:["controller.updating"]})],c.prototype,"updating",void 0);return c=e([d.subclass("esri.views.2d.layers.FeatureLayerView2D")],
c)});