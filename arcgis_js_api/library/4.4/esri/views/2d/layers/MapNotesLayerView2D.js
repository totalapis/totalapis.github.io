// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../engine/DOMContainer ./LayerView2D ./support/FeaturesView2D".split(" "),function(b,n,g,h,f,k,l,m){b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._featuresViewMap={};a._targetFeaturesView=null;a._popupTemplates=new Map;a.container=new k;a.featuresViews=[];return a}g(c,b);c.prototype.hitTest=function(a,c){var d=this,b;this.featuresViews.forEach(function(e){e.hitTest(a,
c)&&(b=e.hitTest(a,c),d._targetFeaturesView=e)});return b?b.then(function(a){a.popupTemplate=d._popupTemplates.get(d._targetFeaturesView);return a}):null};c.prototype.update=function(a){};c.prototype.attach=function(){var a=this;this.layer.featureCollections.forEach(function(c){var b=new m;b.graphics=c.source;b.mapView=a.view;b.renderer=c.renderer;a._popupTemplates.set(b,c.popupTemplate);a.featuresViews.push(b);a.container.addChild(b.container)})};c.prototype.detach=function(){this.container.removeAllChildren();
this.featuresViews.forEach(function(a){a.graphics=null;a.mapView=null;a=a.renderer=null});this._popupTemplates=this._targetFeaturesView=this._featuresViewMap=null};c.prototype.moveStart=function(){};c.prototype.viewChange=function(){};c.prototype.moveEnd=function(){};return c}(f.declared(l));return b=h([f.subclass("esri.views.2d.layers.MapNotesLayerView2D")],b)});