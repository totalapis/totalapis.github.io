// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.4/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./viewpointUtils ./ViewState ./libs/gl-matrix/vec2 ./libs/gl-matrix/mat2d ./libs/gl-matrix/common ../../core/Accessor".split(" "),function(c,r,l,d,b,m,n,f,h,p,q){var g=function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;a.left=0;a.top=0;a.right=0;a.bottom=0;return a}l(e,b);return e}(b.declared(q)),g=d([b.subclass("esri.views.2d.PaddedViewState.Padding")],
g);c=function(b){function e(){for(var a=[],k=0;k<arguments.length;k++)a[k]=arguments[k];a=b.apply(this,a)||this;a.content=new n;a.padding=new g;a.size=f.fromValues(0,0);return a}l(e,b);Object.defineProperty(e.prototype,"clipRect",{get:function(){var a=this.worldScreenWidth;if(!a)return null;var b=p.toRadian(this.rotation),e=this.width*Math.abs(Math.cos(b))+this.height*Math.abs(Math.sin(b));if(a>e)return null;var c=f.clone(this.screenCenter),d=h.fromTranslation(h.create(),c);h.rotate(d,d,b);f.negate(c,
c);h.translate(d,d,c);f.transformMat2d(c,this.paddedScreenCenter,d);return{top:-Math.round(e),left:Math.round(c[0]-.5*a),right:Math.round(c[0]+.5*a),bottom:+Math.round(e)}},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"padding",{set:function(a){this._set("padding",a||new g);this._updateContent()},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"size",{set:function(a){this._set("size",a);this._updateContent()},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,
"paddedScreenCenter",{get:function(){var a=this.content.size,b=this.padding,a=f.scale(f.create(),a,.5);a[0]+=b.left;a[1]+=b.top;return a},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"viewpoint",{set:function(a){var b=a.clone();this.content.viewpoint=a;m.addPadding(b,a,this._get("size"),this._get("padding"));this._set("viewpoint",m.addPadding(b.clone(),a,this._get("size"),this._get("padding")))},enumerable:!0,configurable:!0});e.prototype._updateContent=function(){var a=f.create(),
b=this._get("size"),c=this._get("padding");if(b&&c){var d=this.content;f.set(a,c.left+c.right,c.top+c.bottom);f.subtract(a,b,a);d.size=a;if(a=d.viewpoint)this.viewpoint=a}};return e}(b.declared(n));d([b.shared({transform:{dependsOn:["padding"]}})],c.prototype,"properties",void 0);d([b.property({dependsOn:["worldScreenWidth","rotation","paddedScreenCenter","screenCenter"],readOnly:!0})],c.prototype,"clipRect",null);d([b.property()],c.prototype,"content",void 0);d([b.property({type:g})],c.prototype,
"padding",null);d([b.property()],c.prototype,"size",null);d([b.property({dependsOn:["size","padding"],readOnly:!0})],c.prototype,"paddedScreenCenter",null);d([b.property()],c.prototype,"viewpoint",null);return c=d([b.subclass("esri.views.2d.PaddedViewState")],c)});